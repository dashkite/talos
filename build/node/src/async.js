"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    Step: function() {
        return Step;
    },
    start: function() {
        return start;
    },
    run: function() {
        return run;
    },
    build: function() {
        return build;
    },
    flow: function() {
        return flow;
    },
    flowWith: function() {
        return flowWith;
    }
});
const _generic = require("@dashkite/joy/generic");
const _function = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/function"));
const _type = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/type"));
const _kaiko = /*#__PURE__*/ _interop_require_default(require("@dashkite/kaiko"));
const _machine = require("./machine");
const _talos = require("./talos");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
var Step, build, flow, flowWith, isIterator, run, start;
// These async functions can consume sync iterators, so long as we let async
// behavior take over downstream.
isIterator = function(x) {
    return x[Symbol.asyncIterator] != null || x[Symbol.iterator] != null;
};
Step = {
    matchVertex: function(talos) {
        var vertex;
        vertex = talos.machine.graph[talos.state];
        if (vertex == null) {
            talos.catch(new Error("talos state is not in machine graph"));
        }
        return vertex;
    },
    matchEdge: async function(vertex, talos, event) {
        var edge, error, i, len, ref;
        ref = vertex.edges;
        for(i = 0, len = ref.length; i < len; i++){
            edge = ref[i];
            try {
                if (await edge.when(talos, event) === true) {
                    return edge;
                }
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
        return talos.catch(new Error("no matching when condition"));
    },
    run: async function(edge, talos, event) {
        var error;
        if (edge.run != null) {
            try {
                return await edge.run(talos, event);
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
    },
    move: async function(edge, talos, event) {
        var error;
        try {
            return await edge.move(talos, event);
        } catch (error1) {
            error = error1;
            return talos.catch(error);
        }
    },
    tick: async function*(talos, event) {
        var edge, vertex;
        vertex = Step.matchVertex(talos);
        yield talos;
        edge = await Step.matchEdge(vertex, talos, event);
        yield talos;
        await Step.run(edge, talos, event);
        yield talos;
        await Step.move(edge, talos, event);
        return yield talos;
    }
};
start = (0, _generic.generic)({
    name: "talos: sync start",
    default: function(...args) {
        throw new Error(`talos sync start: input is malformed ${JSON.stringify(args)}`);
    }
});
(0, _generic.generic)(start, _type.isObject, function(machine) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos);
});
// Create generator where state machine consumes its own context repeatedly.
(0, _generic.generic)(start, _talos.Talos.isType, async function*(talos) {
    var ref;
    while(true){
        ref = Step.tick(talos, talos.context);
        for await (talos of ref){
            if (talos.ended) {
                yield talos;
                return;
            }
        }
        yield talos; // prevents accumulation
    }
});
(0, _generic.generic)(start, _type.isObject, isIterator, function(machine, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos, events);
});
// Create generator where state machine consumes values from iterator.
(0, _generic.generic)(start, _talos.Talos.isType, isIterator, async function*(talos, events) {
    var event, ref;
    for await (event of events){
        ref = Step.tick(talos, event);
        for await (talos of ref){
            if (talos.ended) {
                yield talos;
                return;
            }
        }
        yield talos; // prevents accumulation
    }
});
(0, _generic.generic)(start, _type.isObject, _type.isObject, function(machine, context) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, function(talos, context) {
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _type.isObject, _type.isObject, isIterator, function(machine, context, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos, events);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, isIterator, function(talos, context, events) {
    talos.context = context;
    return start(talos, events);
});
// Convenience function to keep going and only return the final talos.
run = (0, _generic.generic)({
    name: "talos: sync run",
    default: function(...args) {
        throw new Error(`talos sync run: input is malformed ${JSON.stringify(args)}`);
    }
});
(0, _generic.generic)(run, isIterator, async function(cycle) {
    var result, talos;
    for await (talos of cycle){
        result = talos;
    }
    return result;
});
// Convenience function to provide a curried functional interface for cycle run.
// "start" allows first argument to be talos instance or machine definition.
build = function(talos) {
    return function(...args) {
        return run(start(talos, ...args));
    };
};
flow = function(fx) {
    var machine;
    machine = _machine.Machine.make(fx);
    return async function(context) {
        var cycle, talos;
        cycle = start(machine, context);
        talos = await run(cycle);
        if (talos.error != null) {
            throw talos.error;
        }
        return talos.context;
    };
};
flowWith = _function.curry(function(f, gx) {
    var machine;
    machine = _machine.Machine.make(gx);
    return async function(context) {
        var cycle, result, talos;
        cycle = start(machine, context);
        result = null;
        for await (talos of cycle){
            await f(talos);
            result = talos;
        }
        if (result.error != null) {
            throw result.error;
        }
        return result.context;
    };
});
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL0BkYXNoa2l0ZS90YWxvcy9zcmMvYXN5bmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLEVBQUE7O0FBQUEsT0FBQTtFQUFTLE9BQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQU8sQ0FBQSxNQUFQLE1BQUE7O0FBQ0EsT0FBTyxDQUFBLFFBQVAsTUFBQTs7QUFDQSxPQUFPLEdBQVAsTUFBQTs7QUFDQSxPQUFBO0VBQVMsT0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLEtBQVQ7Q0FBQSxNQUFBLFVBTEE7Ozs7QUFTQSxVQUFBLEdBQWEsUUFBQSxDQUFFLENBQUYsQ0FBQTtTQUFTLGlDQUFBLElBQThCO0FBQXZDOztBQUViLElBQUEsR0FDRTtFQUFBLFdBQUEsRUFBYSxRQUFBLENBQUUsS0FBRixDQUFBO0FBQ2YsUUFBQTtJQUFJLE1BQUEsR0FBUyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBRSxLQUFLLENBQUMsS0FBUjtJQUM1QixJQUFJLGNBQUo7TUFDRSxLQUFLLENBQUMsS0FBTixDQUFZLElBQUksS0FBSixDQUFVLHFDQUFWLENBQVosRUFERjs7V0FFQTtFQUpXLENBQWI7RUFNQSxTQUFBLEVBQVcsTUFBQSxRQUFBLENBQUUsTUFBRixFQUFVLEtBQVYsRUFBaUIsS0FBakIsQ0FBQTtBQUNiLFFBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUk7SUFBQSxLQUFBLHFDQUFBOztBQUNFO1FBQ0UsSUFBRyxDQUFFLENBQUEsTUFBTSxJQUFJLENBQUMsSUFBTCxDQUFVLEtBQVYsRUFBaUIsS0FBakIsQ0FBTixDQUFGLENBQUEsS0FBb0MsSUFBdkM7QUFDRSxpQkFBTyxLQURUO1NBREY7T0FHQSxjQUFBO1FBQU07QUFDSixlQUFPLEtBQUss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QSxDQUFNLE9BQU4sRUFBZSxPQUFmO0lBQ1IsTUFBQSxHQUFTO0lBQ1QsMEJBQUE7TUFDRSxNQUFNLENBQUEsQ0FBRSxLQUFGO01BQ04sTUFBQSxHQUFTO0lBRlg7SUFHQSxJQUFHLG9CQUFIO01BQ0UsTUFBTSxNQUFNLENBQUMsTUFEZjs7V0FFQSxNQUFNLENBQUM7RUFSVDtBQUZrQixDQUFUOztBQVlYLE9BQUE7RUFDRSxJQURGO0VBRUUsS0FGRjtFQUdFLEdBSEY7RUFJRSxLQUpGO0VBS0UsSUFMRjtFQU1FLFFBTkYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmljIH0gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZ2VuZXJpY1wiXG5pbXBvcnQgKiBhcyBGbiBmcm9tIFwiQGRhc2hraXRlL2pveS9mdW5jdGlvblwiXG5pbXBvcnQgKiBhcyBUeXBlIGZyb20gXCJAZGFzaGtpdGUvam95L3R5cGVcIlxuaW1wb3J0IGxvZyBmcm9tIFwiQGRhc2hraXRlL2thaWtvXCJcbmltcG9ydCB7IE1hY2hpbmUgfSBmcm9tIFwiLi9tYWNoaW5lXCJcbmltcG9ydCB7IFRhbG9zIH0gZnJvbSBcIi4vdGFsb3NcIlxuXG4jIFRoZXNlIGFzeW5jIGZ1bmN0aW9ucyBjYW4gY29uc3VtZSBzeW5jIGl0ZXJhdG9ycywgc28gbG9uZyBhcyB3ZSBsZXQgYXN5bmNcbiMgYmVoYXZpb3IgdGFrZSBvdmVyIGRvd25zdHJlYW0uXG5pc0l0ZXJhdG9yID0gKCB4ICkgLT4geFsgU3ltYm9sLmFzeW5jSXRlcmF0b3IgXT8gfHwgeFsgU3ltYm9sLml0ZXJhdG9yIF0/XG5cblN0ZXAgPVxuICBtYXRjaFZlcnRleDogKCB0YWxvcyApIC0+XG4gICAgdmVydGV4ID0gdGFsb3MubWFjaGluZS5ncmFwaFsgdGFsb3Muc3RhdGUgXVxuICAgIGlmICF2ZXJ0ZXg/XG4gICAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJ0YWxvcyBzdGF0ZSBpcyBub3QgaW4gbWFjaGluZSBncmFwaFwiXG4gICAgdmVydGV4XG5cbiAgbWF0Y2hFZGdlOiAoIHZlcnRleCwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBmb3IgZWRnZSBpbiB2ZXJ0ZXguZWRnZXNcbiAgICAgIHRyeVxuICAgICAgICBpZiAoIGF3YWl0IGVkZ2Uud2hlbiB0YWxvcywgZXZlbnQgKSA9PSB0cnVlXG4gICAgICAgICAgcmV0dXJuIGVkZ2VcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHJldHVybiB0YWxvcy5jYXRjaCBlcnJvclxuICAgIHRhbG9zLmNhdGNoIG5ldyBFcnJvciBcIm5vIG1hdGNoaW5nIHdoZW4gY29uZGl0aW9uXCJcblxuICBydW46ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBpZiBlZGdlLnJ1bj9cbiAgICAgIHRyeVxuICAgICAgICBhd2FpdCBlZGdlLnJ1biB0YWxvcywgZXZlbnRcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG5cbiAgbW92ZTogKCBlZGdlLCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIHRyeVxuICAgICAgYXdhaXQgZWRnZS5tb3ZlIHRhbG9zLCBldmVudFxuICAgIGNhdGNoIGVycm9yXG4gICAgICB0YWxvcy5jYXRjaCBlcnJvclxuXG4gIHRpY2s6ICggdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB2ZXJ0ZXggPSBTdGVwLm1hdGNoVmVydGV4IHRhbG9zXG4gICAgeWllbGQgdGFsb3NcbiAgICBlZGdlID0gYXdhaXQgU3RlcC5tYXRjaEVkZ2UgdmVydGV4LCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuICAgIGF3YWl0IFN0ZXAucnVuIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG4gICAgYXdhaXQgU3RlcC5tb3ZlIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG5cblxuc3RhcnQgPSBnZW5lcmljIFxuICBuYW1lOiBcInRhbG9zOiBzeW5jIHN0YXJ0XCJcbiAgZGVmYXVsdDogKCBhcmdzLi4uICkgLT5cbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJ0YWxvcyBzeW5jIHN0YXJ0OiBpbnB1dCBpcyBtYWxmb3JtZWQgI3sgSlNPTi5zdHJpbmdpZnkgYXJncyB9XCJcblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgKCBtYWNoaW5lICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3NcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgaXRzIG93biBjb250ZXh0IHJlcGVhdGVkbHkuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsICggdGFsb3MgKSAtPlxuICBsb29wXG4gICAgZm9yIGF3YWl0IHRhbG9zIGZyb20gU3RlcC50aWNrIHRhbG9zLCB0YWxvcy5jb250ZXh0XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgaXNJdGVyYXRvciwgKCBtYWNoaW5lLCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbiMgQ3JlYXRlIGdlbmVyYXRvciB3aGVyZSBzdGF0ZSBtYWNoaW5lIGNvbnN1bWVzIHZhbHVlcyBmcm9tIGl0ZXJhdG9yLlxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBpc0l0ZXJhdG9yLCAoIHRhbG9zLCBldmVudHMgKSAtPlxuICBmb3IgYXdhaXQgZXZlbnQgZnJvbSBldmVudHNcbiAgICBmb3IgYXdhaXQgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIGV2ZW50XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgVHlwZS5pc09iamVjdCwgKCBtYWNoaW5lLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCAoIHRhbG9zLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgVHlwZS5pc09iamVjdCwgaXNJdGVyYXRvciwgKCBtYWNoaW5lLCBjb250ZXh0LCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc09iamVjdCwgaXNJdGVyYXRvciwgKCB0YWxvcywgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5cbiMgQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8ga2VlcCBnb2luZyBhbmQgb25seSByZXR1cm4gdGhlIGZpbmFsIHRhbG9zLlxucnVuID0gZ2VuZXJpYyBcbiAgbmFtZTogXCJ0YWxvczogc3luYyBydW5cIlxuICBkZWZhdWx0OiAoIGFyZ3MuLi4gKSAtPiBcbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJ0YWxvcyBzeW5jIHJ1bjogaW5wdXQgaXMgbWFsZm9ybWVkICN7IEpTT04uc3RyaW5naWZ5IGFyZ3MgfVwiXG5cbmdlbmVyaWMgcnVuLCBpc0l0ZXJhdG9yLCAoIGN5Y2xlICkgLT5cbiAgZm9yIGF3YWl0IHRhbG9zIGZyb20gY3ljbGVcbiAgICByZXN1bHQgPSB0YWxvc1xuICByZXN1bHRcblxuIyBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBwcm92aWRlIGEgY3VycmllZCBmdW5jdGlvbmFsIGludGVyZmFjZSBmb3IgY3ljbGUgcnVuLlxuIyBcInN0YXJ0XCIgYWxsb3dzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIHRhbG9zIGluc3RhbmNlIG9yIG1hY2hpbmUgZGVmaW5pdGlvbi5cbmJ1aWxkID0gKCB0YWxvcyApIC0+XG4gICggYXJncy4uLiApIC0+IHJ1biBzdGFydCB0YWxvcywgYXJncy4uLlxuXG5mbG93ID0gKCBmeCApIC0+XG4gIG1hY2hpbmUgPSBNYWNoaW5lLm1ha2UgZnhcbiAgKCBjb250ZXh0ICkgLT4gXG4gICAgY3ljbGUgPSBzdGFydCBtYWNoaW5lLCBjb250ZXh0XG4gICAgdGFsb3MgPSBhd2FpdCBydW4gY3ljbGVcbiAgICBpZiB0YWxvcy5lcnJvcj9cbiAgICAgIHRocm93IHRhbG9zLmVycm9yXG4gICAgdGFsb3MuY29udGV4dFxuXG5mbG93V2l0aCA9IEZuLmN1cnJ5ICggZiwgZ3ggKSAtPlxuICBtYWNoaW5lID0gTWFjaGluZS5tYWtlIGd4XG4gICggY29udGV4dCApIC0+IFxuICAgIGN5Y2xlID0gc3RhcnQgbWFjaGluZSwgY29udGV4dFxuICAgIHJlc3VsdCA9IG51bGxcbiAgICBmb3IgYXdhaXQgdGFsb3MgZnJvbSBjeWNsZVxuICAgICAgYXdhaXQgZiB0YWxvc1xuICAgICAgcmVzdWx0ID0gdGFsb3NcbiAgICBpZiByZXN1bHQuZXJyb3I/XG4gICAgICB0aHJvdyByZXN1bHQuZXJyb3JcbiAgICByZXN1bHQuY29udGV4dFxuXG5leHBvcnQge1xuICBTdGVwICBcbiAgc3RhcnRcbiAgcnVuXG4gIGJ1aWxkXG4gIGZsb3dcbiAgZmxvd1dpdGhcbn0iXX0=
 //# sourceURL=/@dashkite/talos/src/async.coffee

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9AZGFzaGtpdGUvdGFsb3Mvc3JjL2FzeW5jLmNvZmZlZSIsIjxhbm9uPiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmljIH0gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZ2VuZXJpY1wiXG5pbXBvcnQgKiBhcyBGbiBmcm9tIFwiQGRhc2hraXRlL2pveS9mdW5jdGlvblwiXG5pbXBvcnQgKiBhcyBUeXBlIGZyb20gXCJAZGFzaGtpdGUvam95L3R5cGVcIlxuaW1wb3J0IGxvZyBmcm9tIFwiQGRhc2hraXRlL2thaWtvXCJcbmltcG9ydCB7IE1hY2hpbmUgfSBmcm9tIFwiLi9tYWNoaW5lXCJcbmltcG9ydCB7IFRhbG9zIH0gZnJvbSBcIi4vdGFsb3NcIlxuXG4jIFRoZXNlIGFzeW5jIGZ1bmN0aW9ucyBjYW4gY29uc3VtZSBzeW5jIGl0ZXJhdG9ycywgc28gbG9uZyBhcyB3ZSBsZXQgYXN5bmNcbiMgYmVoYXZpb3IgdGFrZSBvdmVyIGRvd25zdHJlYW0uXG5pc0l0ZXJhdG9yID0gKCB4ICkgLT4geFsgU3ltYm9sLmFzeW5jSXRlcmF0b3IgXT8gfHwgeFsgU3ltYm9sLml0ZXJhdG9yIF0/XG5cblN0ZXAgPVxuICBtYXRjaFZlcnRleDogKCB0YWxvcyApIC0+XG4gICAgdmVydGV4ID0gdGFsb3MubWFjaGluZS5ncmFwaFsgdGFsb3Muc3RhdGUgXVxuICAgIGlmICF2ZXJ0ZXg/XG4gICAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJ0YWxvcyBzdGF0ZSBpcyBub3QgaW4gbWFjaGluZSBncmFwaFwiXG4gICAgdmVydGV4XG5cbiAgbWF0Y2hFZGdlOiAoIHZlcnRleCwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBmb3IgZWRnZSBpbiB2ZXJ0ZXguZWRnZXNcbiAgICAgIHRyeVxuICAgICAgICBpZiAoIGF3YWl0IGVkZ2Uud2hlbiB0YWxvcywgZXZlbnQgKSA9PSB0cnVlXG4gICAgICAgICAgcmV0dXJuIGVkZ2VcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHJldHVybiB0YWxvcy5jYXRjaCBlcnJvclxuICAgIHRhbG9zLmNhdGNoIG5ldyBFcnJvciBcIm5vIG1hdGNoaW5nIHdoZW4gY29uZGl0aW9uXCJcblxuICBydW46ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBpZiBlZGdlLnJ1bj9cbiAgICAgIHRyeVxuICAgICAgICBhd2FpdCBlZGdlLnJ1biB0YWxvcywgZXZlbnRcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG5cbiAgbW92ZTogKCBlZGdlLCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIHRyeVxuICAgICAgYXdhaXQgZWRnZS5tb3ZlIHRhbG9zLCBldmVudFxuICAgIGNhdGNoIGVycm9yXG4gICAgICB0YWxvcy5jYXRjaCBlcnJvclxuXG4gIHRpY2s6ICggdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB2ZXJ0ZXggPSBTdGVwLm1hdGNoVmVydGV4IHRhbG9zXG4gICAgeWllbGQgdGFsb3NcbiAgICBlZGdlID0gYXdhaXQgU3RlcC5tYXRjaEVkZ2UgdmVydGV4LCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuICAgIGF3YWl0IFN0ZXAucnVuIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG4gICAgYXdhaXQgU3RlcC5tb3ZlIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG5cblxuc3RhcnQgPSBnZW5lcmljIFxuICBuYW1lOiBcInRhbG9zOiBzeW5jIHN0YXJ0XCJcbiAgZGVmYXVsdDogKCBhcmdzLi4uICkgLT5cbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJ0YWxvcyBzeW5jIHN0YXJ0OiBpbnB1dCBpcyBtYWxmb3JtZWQgI3sgSlNPTi5zdHJpbmdpZnkgYXJncyB9XCJcblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgKCBtYWNoaW5lICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3NcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgaXRzIG93biBjb250ZXh0IHJlcGVhdGVkbHkuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsICggdGFsb3MgKSAtPlxuICBsb29wXG4gICAgZm9yIGF3YWl0IHRhbG9zIGZyb20gU3RlcC50aWNrIHRhbG9zLCB0YWxvcy5jb250ZXh0XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgaXNJdGVyYXRvciwgKCBtYWNoaW5lLCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbiMgQ3JlYXRlIGdlbmVyYXRvciB3aGVyZSBzdGF0ZSBtYWNoaW5lIGNvbnN1bWVzIHZhbHVlcyBmcm9tIGl0ZXJhdG9yLlxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBpc0l0ZXJhdG9yLCAoIHRhbG9zLCBldmVudHMgKSAtPlxuICBmb3IgYXdhaXQgZXZlbnQgZnJvbSBldmVudHNcbiAgICBmb3IgYXdhaXQgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIGV2ZW50XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgVHlwZS5pc09iamVjdCwgKCBtYWNoaW5lLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCAoIHRhbG9zLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgVHlwZS5pc09iamVjdCwgaXNJdGVyYXRvciwgKCBtYWNoaW5lLCBjb250ZXh0LCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc09iamVjdCwgaXNJdGVyYXRvciwgKCB0YWxvcywgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5cbiMgQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8ga2VlcCBnb2luZyBhbmQgb25seSByZXR1cm4gdGhlIGZpbmFsIHRhbG9zLlxucnVuID0gZ2VuZXJpYyBcbiAgbmFtZTogXCJ0YWxvczogc3luYyBydW5cIlxuICBkZWZhdWx0OiAoIGFyZ3MuLi4gKSAtPiBcbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJ0YWxvcyBzeW5jIHJ1bjogaW5wdXQgaXMgbWFsZm9ybWVkICN7IEpTT04uc3RyaW5naWZ5IGFyZ3MgfVwiXG5cbmdlbmVyaWMgcnVuLCBpc0l0ZXJhdG9yLCAoIGN5Y2xlICkgLT5cbiAgZm9yIGF3YWl0IHRhbG9zIGZyb20gY3ljbGVcbiAgICByZXN1bHQgPSB0YWxvc1xuICByZXN1bHRcblxuIyBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBwcm92aWRlIGEgY3VycmllZCBmdW5jdGlvbmFsIGludGVyZmFjZSBmb3IgY3ljbGUgcnVuLlxuIyBcInN0YXJ0XCIgYWxsb3dzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIHRhbG9zIGluc3RhbmNlIG9yIG1hY2hpbmUgZGVmaW5pdGlvbi5cbmJ1aWxkID0gKCB0YWxvcyApIC0+XG4gICggYXJncy4uLiApIC0+IHJ1biBzdGFydCB0YWxvcywgYXJncy4uLlxuXG5mbG93ID0gKCBmeCApIC0+XG4gIG1hY2hpbmUgPSBNYWNoaW5lLm1ha2UgZnhcbiAgKCBjb250ZXh0ICkgLT4gXG4gICAgY3ljbGUgPSBzdGFydCBtYWNoaW5lLCBjb250ZXh0XG4gICAgdGFsb3MgPSBhd2FpdCBydW4gY3ljbGVcbiAgICBpZiB0YWxvcy5lcnJvcj9cbiAgICAgIHRocm93IHRhbG9zLmVycm9yXG4gICAgdGFsb3MuY29udGV4dFxuXG5mbG93V2l0aCA9IEZuLmN1cnJ5ICggZiwgZ3ggKSAtPlxuICBtYWNoaW5lID0gTWFjaGluZS5tYWtlIGd4XG4gICggY29udGV4dCApIC0+IFxuICAgIGN5Y2xlID0gc3RhcnQgbWFjaGluZSwgY29udGV4dFxuICAgIHJlc3VsdCA9IG51bGxcbiAgICBmb3IgYXdhaXQgdGFsb3MgZnJvbSBjeWNsZVxuICAgICAgYXdhaXQgZiB0YWxvc1xuICAgICAgcmVzdWx0ID0gdGFsb3NcbiAgICBpZiByZXN1bHQuZXJyb3I/XG4gICAgICB0aHJvdyByZXN1bHQuZXJyb3JcbiAgICByZXN1bHQuY29udGV4dFxuXG5leHBvcnQge1xuICBTdGVwICBcbiAgc3RhcnRcbiAgcnVuXG4gIGJ1aWxkXG4gIGZsb3dcbiAgZmxvd1dpdGhcbn0iLG51bGxdLCJuYW1lcyI6WyJTdGVwIiwic3RhcnQiLCJydW4iLCJidWlsZCIsImZsb3ciLCJmbG93V2l0aCIsImlzSXRlcmF0b3IiLCJ4IiwiU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsIml0ZXJhdG9yIiwibWF0Y2hWZXJ0ZXgiLCJ0YWxvcyIsInZlcnRleCIsIm1hY2hpbmUiLCJncmFwaCIsInN0YXRlIiwiY2F0Y2giLCJFcnJvciIsIm1hdGNoRWRnZSIsImV2ZW50IiwiZWRnZSIsImVycm9yIiwiaSIsImxlbiIsInJlZiIsImVkZ2VzIiwibGVuZ3RoIiwid2hlbiIsImVycm9yMSIsIm1vdmUiLCJ0aWNrIiwiZ2VuZXJpYyIsIm5hbWUiLCJkZWZhdWx0IiwiYXJncyIsIkpTT04iLCJzdHJpbmdpZnkiLCJUeXBlIiwiaXNPYmplY3QiLCJUYWxvcyIsIm1ha2UiLCJpc1R5cGUiLCJjb250ZXh0IiwiZW5kZWQiLCJldmVudHMiLCJjeWNsZSIsInJlc3VsdCIsImZ4IiwiTWFjaGluZSIsIkZuIiwiY3VycnkiLCJmIiwiZ3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBNklFQSxJQURGO2VBQ0VBOztJQUNBQyxLQUZGO2VBRUVBOztJQUNBQyxHQUhGO2VBR0VBOztJQUNBQyxLQUpGO2VBSUVBOztJQUNBQyxJQUxGO2VBS0VBOztJQUNBQyxRQU5GO2VBTUVBOzs7eUJBbEpGO2tFQUNBOzhEQUNBOzhEQUNBO3lCQUNBO3VCQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFMQSxJQUFBTCxNQUFBRyxPQUFBQyxNQUFBQyxVQUFBQyxZQUFBSixLQUFBRDs7O0FBU0FLLGFBQWEsU0FBRUMsQ0FBRjtXQUFTLEFBQUFBLENBQUEsQ0FBQUMsT0FBQUMsYUFBQSxDQUFBLElBQUEsUUFBOEJGLENBQUEsQ0FBQUMsT0FBQUUsUUFBQSxDQUFBLElBQUE7QUFBdkM7QUFFYlYsT0FDRTtJQUFBVyxhQUFhLFNBQUVDLEtBQUY7UUFDZixJQUFBQztRQUFJQSxTQUFTRCxNQUFNRSxPQUFPLENBQUNDLEtBQUssQ0FBRUgsTUFBTUksS0FBUixDQUFBO1FBQzVCLElBQUlILFVBQUEsTUFBSjtZQUNFRCxNQUFNSyxLQUFOLENBQVksSUFBSUMsTUFBTTs7ZUFDeEJMO0lBSlc7SUFNYk0sV0FBVyxlQUFFTixNQUFGLEVBQVVELEtBQVYsRUFBaUJRLEtBQWpCO1FBQ2IsSUFBQUMsTUFBQUMsT0FBQUMsR0FBQUMsS0FBQUM7UUFBSUEsTUFBQVosT0FBQWEsS0FBQTtRQUFBLElBQUFILElBQUEsR0FBQUMsTUFBQUMsSUFBQUUsTUFBQSxFQUFBSixJQUFBQyxLQUFBRCxJQUFBOztZQUNFLElBQUE7Z0JBQ0Us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