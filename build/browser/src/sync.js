var Step, run, start;
import { generic } from "@dashkite/joy/generic";
import * as Fn from "@dashkite/joy/function";
import * as Type from "@dashkite/joy/type";
import log from "@dashkite/kaiko";
import { Machine } from "./machine";
import { Talos } from "./talos";
import { isMachine } from "./types";
Step = {
    matchVertex: function(talos) {
        var vertex;
        vertex = talos.machine.graph[talos.state];
        if (vertex == null) {
            talos.catch(new Error("talos state is not in machine graph"));
        }
        return vertex;
    },
    matchEdge: function(vertex, talos, event) {
        var edge, error, i, len, ref;
        ref = vertex.edges;
        for(i = 0, len = ref.length; i < len; i++){
            edge = ref[i];
            try {
                if (edge.when(talos, event) === true) {
                    return edge;
                }
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
        return talos.catch(new Error("no matching when condition"));
    },
    run: function(edge, talos, event) {
        var error;
        if (edge.run != null) {
            try {
                return edge.run(talos, event);
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
    },
    move: function(edge, talos, event) {
        var error;
        try {
            return edge.move(talos, event);
        } catch (error1) {
            error = error1;
            return talos.catch(error);
        }
    },
    tick: function*(talos, event) {
        var edge, vertex;
        vertex = Step.matchVertex(talos);
        yield talos;
        edge = Step.matchEdge(vertex, talos, event);
        yield talos;
        Step.run(edge, talos, event);
        yield talos;
        Step.move(edge, talos, event);
        return yield talos;
    }
};
start = generic({
    name: "talos: sync start",
    default: function() {
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        throw new Error(`talos sync start: input is malformed ${JSON.stringify(args)}`);
    }
});
generic(start, isMachine, function(machine) {
    var talos;
    talos = Talos.make(machine);
    return start(talos);
});
// Create generator where state machine consumes its own context repeatedly.
generic(start, Talos.isType, function*(talos) {
    var ref;
    while(true){
        ref = Step.tick(talos, talos.context);
        for (talos of ref){
            if (talos.ended) {
                yield talos;
                return;
            }
        }
        yield talos; // prevents accumulation
    }
});
generic(start, isMachine, Type.isIterable, function(machine, events) {
    var talos;
    talos = Talos.make(machine);
    return start(talos, events);
});
// Create generator where state machine consumes values from iterator.
generic(start, Talos.isType, Type.isIterable, function*(talos, events) {
    var event, ref;
    for (event of events){
        ref = Step.tick(talos, event);
        for (talos of ref){
            if (talos.ended) {
                yield talos;
                return;
            }
        }
        yield talos; // prevents accumulation
    }
});
generic(start, isMachine, Type.isObject, function(machine, context) {
    var talos;
    talos = Talos.make(machine);
    talos.context = context;
    return start(talos);
});
generic(start, Talos.isType, Type.isObject, function(talos, context) {
    talos.context = context;
    return start(talos);
});
generic(start, isMachine, Type.isObject, Type.isIterable, function(machine, context, events) {
    var talos;
    talos = Talos.make(machine);
    talos.context = context;
    return start(talos, events);
});
generic(start, Talos.isType, Type.isObject, Type.isIterable, function(talos, context, events) {
    talos.context = context;
    return start(talos, events);
});
// Convenience function to keep going and only return the final talos.
run = generic({
    name: "talos: sync run",
    default: function() {
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        throw new Error(`talos sync run: input is malformed ${JSON.stringify(args)}`);
    }
});
// Further convenience to support automatically using start.
generic(run, Type.isAny, function() {
    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
        args[_key] = arguments[_key];
    }
    return run(start(...args));
});
generic(run, Type.isIterable, function(cycle) {
    var result, talos;
    for (talos of cycle){
        result = talos;
    }
    return result;
});
generic(run, Type.isArray, function(fx) {
    return run(start(fx));
});
generic(run, Type.isArray, Type.isAny, function(fx) {
    for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){
        args[_key - 1] = arguments[_key];
    }
    return run(start(fx), ...args);
});
export { Step, start, run }; //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic3JjL3N5bmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsT0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBTyxDQUFBLE1BQVAsTUFBQTs7QUFDQSxPQUFPLENBQUEsUUFBUCxNQUFBOztBQUNBLE9BQU8sR0FBUCxNQUFBOztBQUNBLE9BQUE7RUFBUyxPQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsS0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLFNBQVQ7Q0FBQSxNQUFBOztBQUdBLElBQUEsR0FDRTtFQUFBLFdBQUEsRUFBYSxRQUFBLENBQUUsS0FBRixDQUFBO0FBQ2YsUUFBQTtJQUFJLE1BQUEsR0FBUyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBRSxLQUFLLENBQUMsS0FBUjtJQUM1QixJQUFJLGNBQUo7TUFDRSxLQUFLLENBQUMsS0FBTixDQUFZLElBQUksS0FBSixDQUFVLHFDQUFWLENBQVosRUFERjs7V0FFQTtFQUpXLENBQWI7RUFNQSxTQUFBLEVBQVcsUUFBQSxDQUFFLE1BQUYsRUFBVSxLQUFWLEVBQWlCLEtBQWpCLENBQUE7QUFDYixRQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFJO0lBQUEsS0FBQSxxQ0FBQTs7QUFDRTtRQUNFLElBQUcsQ0FBRSxJQUFJLENBQUMsSUFBTCxDQUFVLEtBQVYsRUFBaUIsS0FBakIsQ0FBRixDQUFBLEtBQThCLElBQWpDO0FBQ0UsaUJBQU8sS0FEVDtTQURGO09BR0EsY0FBQTtRQUFNO0FBQ0osZUFBTyxLQUFLLENBQUMsS0FBTixDQUFZLEtBQVosRUFEVDs7SUFKRjtXQU1BLEtBQUssQ0FBQyxLQUFOLENBQVksSUFBSSxLQUFKLENBQVUsNEJBQVYsQ0FBWjtFQVBTLENBTlg7RUFlQSxHQUFBLEVBQUssUUFBQSxD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SUFBSSxDQUFDLEtBQWxCLEVBQXlCLFFBQUEsQ0FBQSxHQUFFLElBQUYsQ0FBQTtTQUN2QixHQUFBLENBQUksS0FBQSxDQUFNLEdBQUEsSUFBTixDQUFKO0FBRHVCLENBQXpCOztBQUdBLE9BQUEsQ0FBUSxHQUFSLEVBQWEsSUFBSSxDQUFDLFVBQWxCLEVBQThCLFFBQUEsQ0FBRSxLQUFGLENBQUE7QUFDOUIsTUFBQSxNQUFBLEVBQUE7RUFBRSxLQUFBLGNBQUE7SUFDRSxNQUFBLEdBQVM7RUFEWDtTQUVBO0FBSDRCLENBQTlCOztBQUtBLE9BQUEsQ0FBUSxHQUFSLEVBQWEsSUFBSSxDQUFDLE9BQWxCLEVBQTJCLFFBQUEsQ0FBRSxFQUFGLENBQUE7U0FDekIsR0FBQSxDQUFJLEtBQUEsQ0FBTSxFQUFOLENBQUo7QUFEeUIsQ0FBM0I7O0FBR0EsT0FBQSxDQUFRLEdBQVIsRUFBYSxJQUFJLENBQUMsT0FBbEIsRUFBMkIsSUFBSSxDQUFDLEtBQWhDLEVBQXVDLFFBQUEsQ0FBRSxFQUFGLEVBQUEsR0FBTSxJQUFOLENBQUE7U0FDckMsR0FBQSxDQUFNLEtBQUEsQ0FBTSxFQUFOLENBQU4sRUFBa0IsR0FBQSxJQUFsQjtBQURxQyxDQUF2Qzs7QUFHQSxPQUFBO0VBQ0UsSUFERjtFQUVFLEtBRkY7RUFHRSxHQUhGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJpYyB9IGZyb20gXCJAZGFzaGtpdGUvam95L2dlbmVyaWNcIlxuaW1wb3J0ICogYXMgRm4gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZnVuY3Rpb25cIlxuaW1wb3J0ICogYXMgVHlwZSBmcm9tIFwiQGRhc2hraXRlL2pveS90eXBlXCJcbmltcG9ydCBsb2cgZnJvbSBcIkBkYXNoa2l0ZS9rYWlrb1wiXG5pbXBvcnQgeyBNYWNoaW5lIH0gZnJvbSBcIi4vbWFjaGluZVwiXG5pbXBvcnQgeyBUYWxvcyB9IGZyb20gXCIuL3RhbG9zXCJcbmltcG9ydCB7IGlzTWFjaGluZSB9IGZyb20gXCIuL3R5cGVzXCJcblxuXG5TdGVwID1cbiAgbWF0Y2hWZXJ0ZXg6ICggdGFsb3MgKSAtPlxuICAgIHZlcnRleCA9IHRhbG9zLm1hY2hpbmUuZ3JhcGhbIHRhbG9zLnN0YXRlIF1cbiAgICBpZiAhdmVydGV4P1xuICAgICAgdGFsb3MuY2F0Y2ggbmV3IEVycm9yIFwidGFsb3Mgc3RhdGUgaXMgbm90IGluIG1hY2hpbmUgZ3JhcGhcIlxuICAgIHZlcnRleFxuXG4gIG1hdGNoRWRnZTogKCB2ZXJ0ZXgsIHRhbG9zLCBldmVudCApIC0+XG4gICAgZm9yIGVkZ2UgaW4gdmVydGV4LmVkZ2VzXG4gICAgICB0cnlcbiAgICAgICAgaWYgKCBlZGdlLndoZW4gdGFsb3MsIGV2ZW50ICkgPT0gdHJ1ZVxuICAgICAgICAgIHJldHVybiBlZGdlXG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICByZXR1cm4gdGFsb3MuY2F0Y2ggZXJyb3JcbiAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJubyBtYXRjaGluZyB3aGVuIGNvbmRpdGlvblwiXG5cbiAgcnVuOiAoIGVkZ2UsIHRhbG9zLCBldmVudCApIC0+XG4gICAgaWYgZWRnZS5ydW4/XG4gICAgICB0cnlcbiAgICAgICAgZWRnZS5ydW4gdGFsb3MsIGV2ZW50XG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICB0YWxvcy5jYXRjaCBlcnJvclxuXG4gIG1vdmU6ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB0cnlcbiAgICAgIGVkZ2UubW92ZSB0YWxvcywgZXZlbnRcbiAgICBjYXRjaCBlcnJvclxuICAgICAgdGFsb3MuY2F0Y2ggZXJyb3JcblxuICB0aWNrOiAoIHRhbG9zLCBldmVudCApIC0+XG4gICAgdmVydGV4ID0gU3RlcC5tYXRjaFZlcnRleCB0YWxvc1xuICAgIHlpZWxkIHRhbG9zXG4gICAgZWRnZSA9IFN0ZXAubWF0Y2hFZGdlIHZlcnRleCwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3NcbiAgICBTdGVwLnJ1biBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuICAgIFN0ZXAubW92ZSBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuXG5cbnN0YXJ0ID0gZ2VuZXJpYyBcbiAgbmFtZTogXCJ0YWxvczogc3luYyBzdGFydFwiXG4gIGRlZmF1bHQ6ICggYXJncy4uLiApIC0+XG4gICAgdGhyb3cgbmV3IEVycm9yIFwidGFsb3Mgc3luYyBzdGFydDogaW5wdXQgaXMgbWFsZm9ybWVkICN7IEpTT04uc3RyaW5naWZ5IGFyZ3MgfVwiXG5cbmdlbmVyaWMgc3RhcnQsIGlzTWFjaGluZSwgKCBtYWNoaW5lICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3NcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgaXRzIG93biBjb250ZXh0IHJlcGVhdGVkbHkuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsICggdGFsb3MgKSAtPlxuICBsb29wXG4gICAgZm9yIHRhbG9zIGZyb20gU3RlcC50aWNrIHRhbG9zLCB0YWxvcy5jb250ZXh0XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCBUeXBlLmlzSXRlcmFibGUsICggbWFjaGluZSwgZXZlbnRzICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG4jIENyZWF0ZSBnZW5lcmF0b3Igd2hlcmUgc3RhdGUgbWFjaGluZSBjb25zdW1lcyB2YWx1ZXMgZnJvbSBpdGVyYXRvci5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc0l0ZXJhYmxlLCAoIHRhbG9zLCBldmVudHMgKSAtPlxuICBmb3IgZXZlbnQgZnJvbSBldmVudHNcbiAgICBmb3IgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIGV2ZW50XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCBUeXBlLmlzT2JqZWN0LCAoIG1hY2hpbmUsIGNvbnRleHQgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvc1xuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIFR5cGUuaXNPYmplY3QsICggdGFsb3MsIGNvbnRleHQgKSAtPlxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvc1xuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNPYmplY3QsIFR5cGUuaXNJdGVyYWJsZSwgKCBtYWNoaW5lLCBjb250ZXh0LCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc09iamVjdCwgVHlwZS5pc0l0ZXJhYmxlLCAoIHRhbG9zLCBjb250ZXh0LCBldmVudHMgKSAtPlxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cblxuIyBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBrZWVwIGdvaW5nIGFuZCBvbmx5IHJldHVybiB0aGUgZmluYWwgdGFsb3MuXG5ydW4gPSBnZW5lcmljIFxuICBuYW1lOiBcInRhbG9zOiBzeW5jIHJ1blwiXG4gIGRlZmF1bHQ6ICggYXJncy4uLiApIC0+IFxuICAgIHRocm93IG5ldyBFcnJvciBcInRhbG9zIHN5bmMgcnVuOiBpbnB1dCBpcyBtYWxmb3JtZWQgI3sgSlNPTi5zdHJpbmdpZnkgYXJncyB9XCJcblxuIyBGdXJ0aGVyIGNvbnZlbmllbmNlIHRvIHN1cHBvcnQgYXV0b21hdGljYWxseSB1c2luZyBzdGFydC5cbmdlbmVyaWMgcnVuLCBUeXBlLmlzQW55LCAoIGFyZ3MuLi4gKSAtPlxuICBydW4gc3RhcnQgYXJncy4uLlxuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0l0ZXJhYmxlLCAoIGN5Y2xlICkgLT5cbiAgZm9yIHRhbG9zIGZyb20gY3ljbGVcbiAgICByZXN1bHQgPSB0YWxvc1xuICByZXN1bHRcblxuZ2VuZXJpYyBydW4sIFR5cGUuaXNBcnJheSwgKCBmeCApIC0+XG4gIHJ1biBzdGFydCBmeFxuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FycmF5LCBUeXBlLmlzQW55LCAoIGZ4LCBhcmdzLi4uICkgLT5cbiAgcnVuICggc3RhcnQgZnggKSwgYXJncy4uLlxuXG5leHBvcnQge1xuICBTdGVwICBcbiAgc3RhcnRcbiAgcnVuXG59Il19
 //# sourceURL=src/sync.coffee

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9zeW5jLmNvZmZlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmljIH0gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZ2VuZXJpY1wiXG5pbXBvcnQgKiBhcyBGbiBmcm9tIFwiQGRhc2hraXRlL2pveS9mdW5jdGlvblwiXG5pbXBvcnQgKiBhcyBUeXBlIGZyb20gXCJAZGFzaGtpdGUvam95L3R5cGVcIlxuaW1wb3J0IGxvZyBmcm9tIFwiQGRhc2hraXRlL2thaWtvXCJcbmltcG9ydCB7IE1hY2hpbmUgfSBmcm9tIFwiLi9tYWNoaW5lXCJcbmltcG9ydCB7IFRhbG9zIH0gZnJvbSBcIi4vdGFsb3NcIlxuaW1wb3J0IHsgaXNNYWNoaW5lIH0gZnJvbSBcIi4vdHlwZXNcIlxuXG5cblN0ZXAgPVxuICBtYXRjaFZlcnRleDogKCB0YWxvcyApIC0+XG4gICAgdmVydGV4ID0gdGFsb3MubWFjaGluZS5ncmFwaFsgdGFsb3Muc3RhdGUgXVxuICAgIGlmICF2ZXJ0ZXg/XG4gICAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJ0YWxvcyBzdGF0ZSBpcyBub3QgaW4gbWFjaGluZSBncmFwaFwiXG4gICAgdmVydGV4XG5cbiAgbWF0Y2hFZGdlOiAoIHZlcnRleCwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBmb3IgZWRnZSBpbiB2ZXJ0ZXguZWRnZXNcbiAgICAgIHRyeVxuICAgICAgICBpZiAoIGVkZ2Uud2hlbiB0YWxvcywgZXZlbnQgKSA9PSB0cnVlXG4gICAgICAgICAgcmV0dXJuIGVkZ2VcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHJldHVybiB0YWxvcy5jYXRjaCBlcnJvclxuICAgIHRhbG9zLmNhdGNoIG5ldyBFcnJvciBcIm5vIG1hdGNoaW5nIHdoZW4gY29uZGl0aW9uXCJcblxuICBydW46ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBpZiBlZGdlLnJ1bj9cbiAgICAgIHRyeVxuICAgICAgICBlZGdlLnJ1biB0YWxvcywgZXZlbnRcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG5cbiAgbW92ZTogKCBlZGdlLCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIHRyeVxuICAgICAgZWRnZS5tb3ZlIHRhbG9zLCBldmVudFxuICAgIGNhdGNoIGVycm9yXG4gICAgICB0YWxvcy5jYXRjaCBlcnJvclxuXG4gIHRpY2s6ICggdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB2ZXJ0ZXggPSBTdGVwLm1hdGNoVmVydGV4IHRhbG9zXG4gICAgeWllbGQgdGFsb3NcbiAgICBlZGdlID0gU3RlcC5tYXRjaEVkZ2UgdmVydGV4LCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuICAgIFN0ZXAucnVuIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG4gICAgU3RlcC5tb3ZlIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG5cblxuc3RhcnQgPSBnZW5lcmljIFxuICBuYW1lOiBcInRhbG9zOiBzeW5jIHN0YXJ0XCJcbiAgZGVmYXVsdDogKCBhcmdzLi4uICkgLT5cbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJ0YWxvcyBzeW5jIHN0YXJ0OiBpbnB1dCBpcyBtYWxmb3JtZWQgI3sgSlNPTi5zdHJpbmdpZnkgYXJncyB9XCJcblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCAoIG1hY2hpbmUgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvc1xuXG4jIENyZWF0ZSBnZW5lcmF0b3Igd2hlcmUgc3RhdGUgbWFjaGluZSBjb25zdW1lcyBpdHMgb3duIGNvbnRleHQgcmVwZWF0ZWRseS5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgKCB0YWxvcyApIC0+XG4gIGxvb3BcbiAgICBmb3IgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIHRhbG9zLmNvbnRleHRcbiAgICAgIGlmIHRhbG9zLmVuZGVkXG4gICAgICAgIHlpZWxkIHRhbG9zXG4gICAgICAgIHJldHVyblxuICAgIHlpZWxkIHRhbG9zXG4gIHJldHVybiAjIHByZXZlbnRzIGFjY3VtdWxhdGlvblxuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNJdGVyYWJsZSwgKCBtYWNoaW5lLCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbiMgQ3JlYXRlIGdlbmVyYXRvciB3aGVyZSBzdGF0ZSBtYWNoaW5lIGNvbnN1bWVzIHZhbHVlcyBmcm9tIGl0ZXJhdG9yLlxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzSXRlcmFibGUsICggdGFsb3MsIGV2ZW50cyApIC0+XG4gIGZvciBldmVudCBmcm9tIGV2ZW50c1xuICAgIGZvciB0YWxvcyBmcm9tIFN0ZXAudGljayB0YWxvcywgZXZlbnRcbiAgICAgIGlmIHRhbG9zLmVuZGVkXG4gICAgICAgIHlpZWxkIHRhbG9zXG4gICAgICAgIHJldHVyblxuICAgIHlpZWxkIHRhbG9zXG4gIHJldHVybiAjIHByZXZlbnRzIGFjY3VtdWxhdGlvblxuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNPYmplY3QsICggbWFjaGluZSwgY29udGV4dCApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zXG5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc09iamVjdCwgKCB0YWxvcywgY29udGV4dCApIC0+XG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zXG5cbmdlbmVyaWMgc3RhcnQsIGlzTWFjaGluZSwgVHlwZS5pc09iamVjdCwgVHlwZS5pc0l0ZXJhYmxlLCAoIG1hY2hpbmUsIGNvbnRleHQsIGV2ZW50cyApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCBUeXBlLmlzSXRlcmFibGUsICggdGFsb3MsIGNvbnRleHQsIGV2ZW50cyApIC0+XG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuXG4jIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIGtlZXAgZ29pbmcgYW5kIG9ubHkgcmV0dXJuIHRoZSBmaW5hbCB0YWxvcy5cbnJ1biA9IGdlbmVyaWMgXG4gIG5hbWU6IFwidGFsb3M6IHN5bmMgcnVuXCJcbiAgZGVmYXVsdDogKCBhcmdzLi4uICkgLT4gXG4gICAgdGhyb3cgbmV3IEVycm9yIFwidGFsb3Mgc3luYyBydW46IGlucHV0IGlzIG1hbGZvcm1lZCAjeyBKU09OLnN0cmluZ2lmeSBhcmdzIH1cIlxuXG4jIEZ1cnRoZXIgY29udmVuaWVuY2UgdG8gc3VwcG9ydCBhdXRvbWF0aWNhbGx5IHVzaW5nIHN0YXJ0LlxuZ2VuZXJpYyBydW4sIFR5cGUuaXNBbnksICggYXJncy4uLiApIC0+XG4gIHJ1biBzdGFydCBhcmdzLi4uXG5cbmdlbmVyaWMgcnVuLCBUeXBlLmlzSXRlcmFibGUsICggY3ljbGUgKSAtPlxuICBmb3IgdGFsb3MgZnJvbSBjeWNsZVxuICAgIHJlc3VsdCA9IHRhbG9zXG4gIHJlc3VsdFxuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FycmF5LCAoIGZ4ICkgLT5cbiAgcnVuIHN0YXJ0IGZ4XG5cbmdlbmVyaWMgcnVuLCBUeXBlLmlzQXJyYXksIFR5cGUuaXNBbnksICggZngsIGFyZ3MuLi4gKSAtPlxuICBydW4gKCBzdGFydCBmeCApLCBhcmdzLi4uXG5cbmV4cG9ydCB7XG4gIFN0ZXAgIFxuICBzdGFydFxuICBydW5cbn0iXSwibmFtZXMiOlsiU3RlcCIsInJ1biIsInN0YXJ0IiwiZ2VuZXJpYyIsIkZuIiwiVHlwZSIsImxvZyIsIk1hY2hpbmUiLCJUYWxvcyIsImlzTWFjaGluZSIsIm1hdGNoVmVydGV4IiwidGFsb3MiLCJ2ZXJ0ZXgiLCJtYWNoaW5lIiwiZ3JhcGgiLCJzdGF0ZSIsImNhdGNoIiwiRXJyb3IiLCJtYXRjaEVkZ2UiLCJldmVudCIsImVkZ2UiLCJlcnJvciIsImkiLCJsZW4iLCJyZWYiLCJlZGdlcyIsImxlbmd0aCIsIndoZW4iLCJlcnJvcjEiLCJtb3ZlIiwidGljayIsIm5hbWUiLCJkZWZhdWx0IiwiYXJncyIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYWtlIiwiaXNUeXBlIiwiY29udGV4dCIsImVuZGVkIiwiaXNJdGVyYWJsZSIsImV2ZW50cyIsImlzT2JqZWN0IiwiaXNBbnkiLCJjeWNsZSIsInJlc3VsdCIsImlzQXJyYXkiLCJmeCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQUEsTUFBQUMsS0FBQUM7QUFBQSxTQUFTQyxPQUFULFFBQUEsd0JBQUE7QUFDQSxZQUFPQyxRQUFQLHlCQUFBO0FBQ0EsWUFBT0MsVUFBUCxxQkFBQTtBQUNBLE9BQU9DLFNBQVAsa0JBQUE7QUFDQSxTQUFTQyxPQUFULFFBQUEsWUFBQTtBQUNBLFNBQVNDLEtBQVQsUUFBQSxVQUFBO0FBQ0EsU0FBU0MsU0FBVCxRQUFBLFVBQUE7QUFHQVQsT0FDRTtJQUFBVSxhQUFhLFNBQUVDLEtBQUY7UUFDZixJQUFBQztRQUFJQSxTQUFTRCxNQUFNRSxPQUFPLENBQUNDLEtBQUssQ0FBRUgsTUFBTUksS0FBUixDQUFBO1FBQzVCLElBQUlILFVBQUEsTUFBSjtZQUNFRCxNQUFNSyxLQUFOLENBQVksSUFBSUMsTUFBTTs7ZUFDeEJMO0lBSlc7SUFNYk0sV0FBVyxTQUFFTixNQUFGLEVBQVVELEtBQVYsRUFBaUJRLEtBQWpCO1FBQ2IsSUFBQUMsTUFBQUMsT0FBQUMsR0FBQUMsS0FBQUM7UUFBSUEsTUFBQVosT0FBQWEsS0FBQTtRQUFBLElBQUFILElBQUEsR0FBQUMsTUFBQUMsSUFBQUUsTUFBQSxFQUFBSixJQUFBQyxLQUFBRCxJQUFBOztZQUNFLElBQUE7Z0JBQ0UsSUFBRyxBQUFF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