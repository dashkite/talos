"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    Step: function() {
        return Step;
    },
    start: function() {
        return start;
    },
    run: function() {
        return run;
    }
});
const _generic = require("@dashkite/joy/generic");
const _function = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/function"));
const _type = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/type"));
const _kaiko = /*#__PURE__*/ _interop_require_default(require("@dashkite/kaiko"));
const _machine = require("./machine");
const _talos = require("./talos");
const _types = require("./types");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
var Step, run, start;
Step = {
    matchVertex: function(talos) {
        var vertex;
        vertex = talos.machine.graph[talos.state];
        if (vertex == null) {
            talos.catch(new Error("talos state is not in machine graph"));
        }
        return vertex;
    },
    matchEdge: async function(vertex, talos, event) {
        var edge, error, i, len, ref;
        ref = vertex.edges;
        for(i = 0, len = ref.length; i < len; i++){
            edge = ref[i];
            try {
                if (await edge.when(talos, event) === true) {
                    return edge;
                }
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
        return talos.catch(new Error("no matching when condition"));
    },
    run: async function(edge, talos, event) {
        var error;
        if (edge.run != null) {
            try {
                return await edge.run(talos, event);
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
    },
    move: async function(edge, talos, event) {
        var error;
        try {
            return await edge.move(talos, event);
        } catch (error1) {
            error = error1;
            return talos.catch(error);
        }
    },
    tick: async function*(talos, event) {
        var edge, vertex;
        vertex = Step.matchVertex(talos);
        yield talos;
        edge = await Step.matchEdge(vertex, talos, event);
        yield talos;
        await Step.run(edge, talos, event);
        yield talos;
        await Step.move(edge, talos, event);
        return yield talos;
    }
};
start = (0, _generic.generic)({
    name: "talos: sync start",
    default: function(...args) {
        throw new Error(`talos sync start: input is malformed ${JSON.stringify(args)}`);
    }
});
(0, _generic.generic)(start, _types.isMachine, function(machine) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos);
});
// Create generator where state machine consumes its own context repeatedly.
(0, _generic.generic)(start, _talos.Talos.isType, async function*(talos) {
    var ref;
    while(true){
        ref = Step.tick(talos, talos.context);
        for await (talos of ref){
            if (talos.ended) {
                yield talos;
                return;
            }
        }
        yield talos; // prevents accumulation
    }
});
(0, _generic.generic)(start, _types.isMachine, _types.isIteratorKind, function(machine, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos, events);
});
// Create generator where state machine consumes values from iterator.
(0, _generic.generic)(start, _talos.Talos.isType, _types.isIteratorKind, async function*(talos, events) {
    var event, ref;
    for await (event of events){
        ref = Step.tick(talos, event);
        for await (talos of ref){
            if (talos.ended) {
                yield talos;
                return;
            }
        }
        yield talos; // prevents accumulation
    }
});
(0, _generic.generic)(start, _types.isMachine, _type.isObject, function(machine, context) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, function(talos, context) {
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _types.isMachine, _type.isObject, _types.isIteratorKind, function(machine, context, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos, events);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, _types.isIteratorKind, function(talos, context, events) {
    talos.context = context;
    return start(talos, events);
});
// Convenience function to keep going and only return the final talos.
run = (0, _generic.generic)({
    name: "talos: sync run",
    default: function(...args) {
        throw new Error(`talos sync run: input is malformed ${JSON.stringify(args)}`);
    }
});
// Further convenience to support automatically using start.
(0, _generic.generic)(run, _type.isAny, function(...args) {
    return run(start(...args));
});
(0, _generic.generic)(run, _types.isIteratorKind, async function(cycle) {
    var result, talos;
    for await (talos of cycle){
        result = talos;
    }
    return result;
});
(0, _generic.generic)(run, _type.isArray, function(fx) {
    return run(start(fx));
});
(0, _generic.generic)(run, _type.isArray, _type.isAny, function(fx, ...args) {
    return run(start(fx), ...args);
});
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL0BkYXNoa2l0ZS90YWxvcy9zcmMvYXN5bmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsT0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBTyxDQUFBLE1BQVAsTUFBQTs7QUFDQSxPQUFPLENBQUEsUUFBUCxNQUFBOztBQUNBLE9BQU8sR0FBUCxNQUFBOztBQUNBLE9BQUE7RUFBUyxPQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsS0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLFNBQVQ7RUFBb0IsY0FBcEI7Q0FBQSxNQUFBOztBQUdBLElBQUEsR0FDRTtFQUFBLFdBQUEsRUFBYSxRQUFBLENBQUUsS0FBRixDQUFBO0FBQ2YsUUFBQTtJQUFJLE1BQUEsR0FBUyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBRSxLQUFLLENBQUMsS0FBUjtJQUM1QixJQUFJLGNBQUo7TUFDRSxLQUFLLENBQUMsS0FBTixDQUFZLElBQUksS0FBSixDQUFVLHFDQUFWLENBQVosRUFERjs7V0FFQTtFQUpXLENBQWI7RUFNQSxTQUFBLEVBQVcsTUFBQSxRQUFBLENBQUUsTUFBRixFQUFVLEtBQVYsRUFBaUIsS0FBakIsQ0FBQTtBQUNiLFFBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUk7SUFBQSxLQUFBLHFDQUFBOztBQUNFO1FBQ0UsSUFBRyxDQUFFLENBQUEsTUFBTSxJQUFJLENBQUMsSUFBTCxDQUFVLEtBQVYsRUFBaUIsS0FBakIsQ0FBTixDQUFGLENBQUEsS0FBb0MsSUFBdkM7QUFDRSxpQkFBTyxLQURUO1NBREY7T0FHQSxjQUFBO1FBQU07QUFDSixlQUFPLEtBQUssQ0FBQyxLQUFOLENBQVksS0FBWixFQURUOztJQUpGO1dBTUEsS0FBSyxDQUFDLEtBQU4sQ0FBWSxJQUFJLEtB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QUwsQ0FBZSxJQUFmLENBQXZDLENBQUEsQ0FBVjtFQURDO0FBRFQsQ0FESSxFQXZHTjs7O0FBNkdBLE9BQUEsQ0FBUSxHQUFSLEVBQWEsSUFBSSxDQUFDLEtBQWxCLEVBQXlCLFFBQUEsQ0FBQSxHQUFFLElBQUYsQ0FBQTtTQUN2QixHQUFBLENBQUksS0FBQSxDQUFNLEdBQUEsSUFBTixDQUFKO0FBRHVCLENBQXpCOztBQUdBLE9BQUEsQ0FBUSxHQUFSLEVBQWEsY0FBYixFQUE2QixNQUFBLFFBQUEsQ0FBRSxLQUFGLENBQUE7QUFDN0IsTUFBQSxNQUFBLEVBQUE7RUFBRSwwQkFBQTtJQUNFLE1BQUEsR0FBUztFQURYO1NBRUE7QUFIMkIsQ0FBN0I7O0FBS0EsT0FBQSxDQUFRLEdBQVIsRUFBYSxJQUFJLENBQUMsT0FBbEIsRUFBMkIsUUFBQSxDQUFFLEVBQUYsQ0FBQTtTQUN6QixHQUFBLENBQUksS0FBQSxDQUFNLEVBQU4sQ0FBSjtBQUR5QixDQUEzQjs7QUFHQSxPQUFBLENBQVEsR0FBUixFQUFhLElBQUksQ0FBQyxPQUFsQixFQUEyQixJQUFJLENBQUMsS0FBaEMsRUFBdUMsUUFBQSxDQUFFLEVBQUYsRUFBQSxHQUFNLElBQU4sQ0FBQTtTQUNyQyxHQUFBLENBQU0sS0FBQSxDQUFNLEVBQU4sQ0FBTixFQUFrQixHQUFBLElBQWxCO0FBRHFDLENBQXZDOztBQUlBLE9BQUE7RUFDRSxJQURGO0VBRUUsS0FGRjtFQUdFLEdBSEYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmljIH0gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZ2VuZXJpY1wiXG5pbXBvcnQgKiBhcyBGbiBmcm9tIFwiQGRhc2hraXRlL2pveS9mdW5jdGlvblwiXG5pbXBvcnQgKiBhcyBUeXBlIGZyb20gXCJAZGFzaGtpdGUvam95L3R5cGVcIlxuaW1wb3J0IGxvZyBmcm9tIFwiQGRhc2hraXRlL2thaWtvXCJcbmltcG9ydCB7IE1hY2hpbmUgfSBmcm9tIFwiLi9tYWNoaW5lXCJcbmltcG9ydCB7IFRhbG9zIH0gZnJvbSBcIi4vdGFsb3NcIlxuaW1wb3J0IHsgaXNNYWNoaW5lLCBpc0l0ZXJhdG9yS2luZCB9IGZyb20gXCIuL3R5cGVzXCJcblxuXG5TdGVwID1cbiAgbWF0Y2hWZXJ0ZXg6ICggdGFsb3MgKSAtPlxuICAgIHZlcnRleCA9IHRhbG9zLm1hY2hpbmUuZ3JhcGhbIHRhbG9zLnN0YXRlIF1cbiAgICBpZiAhdmVydGV4P1xuICAgICAgdGFsb3MuY2F0Y2ggbmV3IEVycm9yIFwidGFsb3Mgc3RhdGUgaXMgbm90IGluIG1hY2hpbmUgZ3JhcGhcIlxuICAgIHZlcnRleFxuXG4gIG1hdGNoRWRnZTogKCB2ZXJ0ZXgsIHRhbG9zLCBldmVudCApIC0+XG4gICAgZm9yIGVkZ2UgaW4gdmVydGV4LmVkZ2VzXG4gICAgICB0cnlcbiAgICAgICAgaWYgKCBhd2FpdCBlZGdlLndoZW4gdGFsb3MsIGV2ZW50ICkgPT0gdHJ1ZVxuICAgICAgICAgIHJldHVybiBlZGdlXG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICByZXR1cm4gdGFsb3MuY2F0Y2ggZXJyb3JcbiAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJubyBtYXRjaGluZyB3aGVuIGNvbmRpdGlvblwiXG5cbiAgcnVuOiAoIGVkZ2UsIHRhbG9zLCBldmVudCApIC0+XG4gICAgaWYgZWRnZS5ydW4/XG4gICAgICB0cnlcbiAgICAgICAgYXdhaXQgZWRnZS5ydW4gdGFsb3MsIGV2ZW50XG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICB0YWxvcy5jYXRjaCBlcnJvclxuXG4gIG1vdmU6ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB0cnlcbiAgICAgIGF3YWl0IGVkZ2UubW92ZSB0YWxvcywgZXZlbnRcbiAgICBjYXRjaCBlcnJvclxuICAgICAgdGFsb3MuY2F0Y2ggZXJyb3JcblxuICB0aWNrOiAoIHRhbG9zLCBldmVudCApIC0+XG4gICAgdmVydGV4ID0gU3RlcC5tYXRjaFZlcnRleCB0YWxvc1xuICAgIHlpZWxkIHRhbG9zXG4gICAgZWRnZSA9IGF3YWl0IFN0ZXAubWF0Y2hFZGdlIHZlcnRleCwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3NcbiAgICBhd2FpdCBTdGVwLnJ1biBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuICAgIGF3YWl0IFN0ZXAubW92ZSBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuXG5cbnN0YXJ0ID0gZ2VuZXJpYyBcbiAgbmFtZTogXCJ0YWxvczogc3luYyBzdGFydFwiXG4gIGRlZmF1bHQ6ICggYXJncy4uLiApIC0+XG4gICAgdGhyb3cgbmV3IEVycm9yIFwidGFsb3Mgc3luYyBzdGFydDogaW5wdXQgaXMgbWFsZm9ybWVkICN7IEpTT04uc3RyaW5naWZ5IGFyZ3MgfVwiXG5cblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCAoIG1hY2hpbmUgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvc1xuXG4jIENyZWF0ZSBnZW5lcmF0b3Igd2hlcmUgc3RhdGUgbWFjaGluZSBjb25zdW1lcyBpdHMgb3duIGNvbnRleHQgcmVwZWF0ZWRseS5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgKCB0YWxvcyApIC0+XG4gIGxvb3BcbiAgICBmb3IgYXdhaXQgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIHRhbG9zLmNvbnRleHRcbiAgICAgIGlmIHRhbG9zLmVuZGVkXG4gICAgICAgIHlpZWxkIHRhbG9zXG4gICAgICAgIHJldHVyblxuICAgIHlpZWxkIHRhbG9zXG4gIHJldHVybiAjIHByZXZlbnRzIGFjY3VtdWxhdGlvblxuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIGlzSXRlcmF0b3JLaW5kLCAoIG1hY2hpbmUsIGV2ZW50cyApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgdmFsdWVzIGZyb20gaXRlcmF0b3IuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIGlzSXRlcmF0b3JLaW5kLCAoIHRhbG9zLCBldmVudHMgKSAtPlxuICBmb3IgYXdhaXQgZXZlbnQgZnJvbSBldmVudHNcbiAgICBmb3IgYXdhaXQgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIGV2ZW50XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCBUeXBlLmlzT2JqZWN0LCAoIG1hY2hpbmUsIGNvbnRleHQgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvc1xuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIFR5cGUuaXNPYmplY3QsICggdGFsb3MsIGNvbnRleHQgKSAtPlxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvc1xuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNPYmplY3QsIGlzSXRlcmF0b3JLaW5kLCAoIG1hY2hpbmUsIGNvbnRleHQsIGV2ZW50cyApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCBpc0l0ZXJhdG9yS2luZCwgKCB0YWxvcywgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5cbiMgQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8ga2VlcCBnb2luZyBhbmQgb25seSByZXR1cm4gdGhlIGZpbmFsIHRhbG9zLlxucnVuID0gZ2VuZXJpYyBcbiAgbmFtZTogXCJ0YWxvczogc3luYyBydW5cIlxuICBkZWZhdWx0OiAoIGFyZ3MuLi4gKSAtPiBcbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJ0YWxvcyBzeW5jIHJ1bjogaW5wdXQgaXMgbWFsZm9ybWVkICN7IEpTT04uc3RyaW5naWZ5IGFyZ3MgfVwiXG5cbiMgRnVydGhlciBjb252ZW5pZW5jZSB0byBzdXBwb3J0IGF1dG9tYXRpY2FsbHkgdXNpbmcgc3RhcnQuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FueSwgKCBhcmdzLi4uICkgLT5cbiAgcnVuIHN0YXJ0IGFyZ3MuLi5cblxuZ2VuZXJpYyBydW4sIGlzSXRlcmF0b3JLaW5kLCAoIGN5Y2xlICkgLT5cbiAgZm9yIGF3YWl0IHRhbG9zIGZyb20gY3ljbGVcbiAgICByZXN1bHQgPSB0YWxvc1xuICByZXN1bHRcblxuZ2VuZXJpYyBydW4sIFR5cGUuaXNBcnJheSwgKCBmeCApIC0+XG4gIHJ1biBzdGFydCBmeFxuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FycmF5LCBUeXBlLmlzQW55LCAoIGZ4LCBhcmdzLi4uICkgLT5cbiAgcnVuICggc3RhcnQgZnggKSwgYXJncy4uLlxuXG5cbmV4cG9ydCB7XG4gIFN0ZXAgIFxuICBzdGFydFxuICBydW5cbn0iXX0=
 //# sourceURL=/@dashkite/talos/src/async.coffee

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9AZGFzaGtpdGUvdGFsb3Mvc3JjL2FzeW5jLmNvZmZlZSIsIjxhbm9uPiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmljIH0gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZ2VuZXJpY1wiXG5pbXBvcnQgKiBhcyBGbiBmcm9tIFwiQGRhc2hraXRlL2pveS9mdW5jdGlvblwiXG5pbXBvcnQgKiBhcyBUeXBlIGZyb20gXCJAZGFzaGtpdGUvam95L3R5cGVcIlxuaW1wb3J0IGxvZyBmcm9tIFwiQGRhc2hraXRlL2thaWtvXCJcbmltcG9ydCB7IE1hY2hpbmUgfSBmcm9tIFwiLi9tYWNoaW5lXCJcbmltcG9ydCB7IFRhbG9zIH0gZnJvbSBcIi4vdGFsb3NcIlxuaW1wb3J0IHsgaXNNYWNoaW5lLCBpc0l0ZXJhdG9yS2luZCB9IGZyb20gXCIuL3R5cGVzXCJcblxuXG5TdGVwID1cbiAgbWF0Y2hWZXJ0ZXg6ICggdGFsb3MgKSAtPlxuICAgIHZlcnRleCA9IHRhbG9zLm1hY2hpbmUuZ3JhcGhbIHRhbG9zLnN0YXRlIF1cbiAgICBpZiAhdmVydGV4P1xuICAgICAgdGFsb3MuY2F0Y2ggbmV3IEVycm9yIFwidGFsb3Mgc3RhdGUgaXMgbm90IGluIG1hY2hpbmUgZ3JhcGhcIlxuICAgIHZlcnRleFxuXG4gIG1hdGNoRWRnZTogKCB2ZXJ0ZXgsIHRhbG9zLCBldmVudCApIC0+XG4gICAgZm9yIGVkZ2UgaW4gdmVydGV4LmVkZ2VzXG4gICAgICB0cnlcbiAgICAgICAgaWYgKCBhd2FpdCBlZGdlLndoZW4gdGFsb3MsIGV2ZW50ICkgPT0gdHJ1ZVxuICAgICAgICAgIHJldHVybiBlZGdlXG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICByZXR1cm4gdGFsb3MuY2F0Y2ggZXJyb3JcbiAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJubyBtYXRjaGluZyB3aGVuIGNvbmRpdGlvblwiXG5cbiAgcnVuOiAoIGVkZ2UsIHRhbG9zLCBldmVudCApIC0+XG4gICAgaWYgZWRnZS5ydW4/XG4gICAgICB0cnlcbiAgICAgICAgYXdhaXQgZWRnZS5ydW4gdGFsb3MsIGV2ZW50XG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICB0YWxvcy5jYXRjaCBlcnJvclxuXG4gIG1vdmU6ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB0cnlcbiAgICAgIGF3YWl0IGVkZ2UubW92ZSB0YWxvcywgZXZlbnRcbiAgICBjYXRjaCBlcnJvclxuICAgICAgdGFsb3MuY2F0Y2ggZXJyb3JcblxuICB0aWNrOiAoIHRhbG9zLCBldmVudCApIC0+XG4gICAgdmVydGV4ID0gU3RlcC5tYXRjaFZlcnRleCB0YWxvc1xuICAgIHlpZWxkIHRhbG9zXG4gICAgZWRnZSA9IGF3YWl0IFN0ZXAubWF0Y2hFZGdlIHZlcnRleCwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3NcbiAgICBhd2FpdCBTdGVwLnJ1biBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuICAgIGF3YWl0IFN0ZXAubW92ZSBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuXG5cbnN0YXJ0ID0gZ2VuZXJpYyBcbiAgbmFtZTogXCJ0YWxvczogc3luYyBzdGFydFwiXG4gIGRlZmF1bHQ6ICggYXJncy4uLiApIC0+XG4gICAgdGhyb3cgbmV3IEVycm9yIFwidGFsb3Mgc3luYyBzdGFydDogaW5wdXQgaXMgbWFsZm9ybWVkICN7IEpTT04uc3RyaW5naWZ5IGFyZ3MgfVwiXG5cblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCAoIG1hY2hpbmUgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvc1xuXG4jIENyZWF0ZSBnZW5lcmF0b3Igd2hlcmUgc3RhdGUgbWFjaGluZSBjb25zdW1lcyBpdHMgb3duIGNvbnRleHQgcmVwZWF0ZWRseS5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgKCB0YWxvcyApIC0+XG4gIGxvb3BcbiAgICBmb3IgYXdhaXQgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIHRhbG9zLmNvbnRleHRcbiAgICAgIGlmIHRhbG9zLmVuZGVkXG4gICAgICAgIHlpZWxkIHRhbG9zXG4gICAgICAgIHJldHVyblxuICAgIHlpZWxkIHRhbG9zXG4gIHJldHVybiAjIHByZXZlbnRzIGFjY3VtdWxhdGlvblxuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIGlzSXRlcmF0b3JLaW5kLCAoIG1hY2hpbmUsIGV2ZW50cyApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgdmFsdWVzIGZyb20gaXRlcmF0b3IuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIGlzSXRlcmF0b3JLaW5kLCAoIHRhbG9zLCBldmVudHMgKSAtPlxuICBmb3IgYXdhaXQgZXZlbnQgZnJvbSBldmVudHNcbiAgICBmb3IgYXdhaXQgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIGV2ZW50XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCBUeXBlLmlzT2JqZWN0LCAoIG1hY2hpbmUsIGNvbnRleHQgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvc1xuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIFR5cGUuaXNPYmplY3QsICggdGFsb3MsIGNvbnRleHQgKSAtPlxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvc1xuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNPYmplY3QsIGlzSXRlcmF0b3JLaW5kLCAoIG1hY2hpbmUsIGNvbnRleHQsIGV2ZW50cyApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCBpc0l0ZXJhdG9yS2luZCwgKCB0YWxvcywgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5cbiMgQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8ga2VlcCBnb2luZyBhbmQgb25seSByZXR1cm4gdGhlIGZpbmFsIHRhbG9zLlxucnVuID0gZ2VuZXJpYyBcbiAgbmFtZTogXCJ0YWxvczogc3luYyBydW5cIlxuICBkZWZhdWx0OiAoIGFyZ3MuLi4gKSAtPiBcbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJ0YWxvcyBzeW5jIHJ1bjogaW5wdXQgaXMgbWFsZm9ybWVkICN7IEpTT04uc3RyaW5naWZ5IGFyZ3MgfVwiXG5cbiMgRnVydGhlciBjb252ZW5pZW5jZSB0byBzdXBwb3J0IGF1dG9tYXRpY2FsbHkgdXNpbmcgc3RhcnQuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FueSwgKCBhcmdzLi4uICkgLT5cbiAgcnVuIHN0YXJ0IGFyZ3MuLi5cblxuZ2VuZXJpYyBydW4sIGlzSXRlcmF0b3JLaW5kLCAoIGN5Y2xlICkgLT5cbiAgZm9yIGF3YWl0IHRhbG9zIGZyb20gY3ljbGVcbiAgICByZXN1bHQgPSB0YWxvc1xuICByZXN1bHRcblxuZ2VuZXJpYyBydW4sIFR5cGUuaXNBcnJheSwgKCBmeCApIC0+XG4gIHJ1biBzdGFydCBmeFxuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FycmF5LCBUeXBlLmlzQW55LCAoIGZ4LCBhcmdzLi4uICkgLT5cbiAgcnVuICggc3RhcnQgZnggKSwgYXJncy4uLlxuXG5cbmV4cG9ydCB7XG4gIFN0ZXAgIFxuICBzdGFydFxuICBydW5cbn0iLG51bGxdLCJuYW1lcyI6WyJTdGVwIiwic3RhcnQiLCJydW4iLCJtYXRjaFZlcnRleCIsInRhbG9zIiwidmVydGV4IiwibWFjaGluZSIsImdyYXBoIiwic3RhdGUiLCJjYXRjaCIsIkVycm9yIiwibWF0Y2hFZGdlIiwiZXZlbnQiLCJlZGdlIiwiZXJyb3IiLCJpIiwibGVuIiwicmVmIiwiZWRnZXMiLCJsZW5ndGgiLCJ3aGVuIiwiZXJyb3IxIiwibW92ZSIsInRpY2siLCJnZW5lcmljIiwibmFtZSIsImRlZmF1bHQiLCJhcmdzIiwiSlNPTiIsInN0cmluZ2lmeSIsImlzTWFjaGluZSIsIlRhbG9zIiwibWFrZSIsImlzVHlwZSIsImNvbnRleHQiLCJlbmRlZCIsImlzSXRlcmF0b3JLaW5kIiwiZXZlbnRzIiwiVHlwZSIsImlzT2JqZWN0IiwiaXNBbnkiLCJjeWNsZSIsInJlc3VsdCIsImlzQXJyYXkiLCJmeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUE2SEVBLElBREY7ZUFDRUE7O0lBQ0FDLEtBRkY7ZUFFRUE7O0lBQ0FDLEdBSEY7ZUFHRUE7Ozt5QkEvSEY7a0VBQ0E7OERBQ0E7OERBQ0E7eUJBQ0E7dUJBQ0E7dUJBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU5BLElBQUFGLE1BQUFFLEtBQUFEO0FBU0FELE9BQ0U7SUFBQUcsYUFBYSxTQUFFQyxLQUFGO1FBQ2YsSUFBQUM7UUFBSUEsU0FBU0QsTUFBTUUsT0FBTyxDQUFDQyxLQUFLLENBQUVILE1BQU1JLEtBQVIsQ0FBQTtRQUM1QixJQUFJSCxVQUFBLE1BQUo7WUFDRUQsTUFBTUssS0FBTixDQUFZLElBQUlDLE1BQU07O2VBQ3hCTDtJQUpXO0lBTWJNLFdBQVcsZUFBRU4sTUFBRixFQUFVRCxLQUFWLEVBQWlCUSxLQUFqQjtRQUNiLElBQUFDLE1BQUFDLE9BQUFDLEdBQUFDLEtBQUFDO1FBQUlBLE1BQUFaLE9BQUFhLEtBQUE7UUFBQSxJQUFBSCxJQUFB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