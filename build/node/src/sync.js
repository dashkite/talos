"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    Step: function() {
        return Step;
    },
    start: function() {
        return start;
    },
    run: function() {
        return run;
    },
    build: function() {
        return build;
    },
    pipe: function() {
        return pipe;
    },
    pipeWith: function() {
        return pipeWith;
    }
});
const _generic = require("@dashkite/joy/generic");
const _function = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/function"));
const _type = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/type"));
const _kaiko = /*#__PURE__*/ _interop_require_default(require("@dashkite/kaiko"));
const _machine = require("./machine");
const _talos = require("./talos");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
var Step, build, pipe, pipeWith, run, start;
Step = {
    matchVertex: function(talos) {
        var vertex;
        vertex = talos.machine.graph[talos.state];
        if (vertex == null) {
            talos.catch(new Error("talos state is not in machine graph"));
        }
        return vertex;
    },
    matchEdge: function(vertex, talos, event) {
        var edge, error, i, len, ref;
        ref = vertex.edges;
        for(i = 0, len = ref.length; i < len; i++){
            edge = ref[i];
            try {
                if (edge.when(talos, event) === true) {
                    return edge;
                }
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
        return talos.catch(new Error("no matching when condition"));
    },
    run: function(edge, talos, event) {
        var error;
        if (edge.run != null) {
            try {
                return edge.run(talos, event);
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
    },
    move: function(edge, talos, event) {
        var error;
        try {
            return edge.move(talos, event);
        } catch (error1) {
            error = error1;
            return talos.catch(error);
        }
    },
    tick: function*(talos, event) {
        var edge, vertex;
        vertex = Step.matchVertex(talos);
        yield talos;
        edge = Step.matchEdge(vertex, talos, event);
        yield talos;
        Step.run(edge, talos, event);
        yield talos;
        Step.move(edge, talos, event);
        return yield talos;
    }
};
start = (0, _generic.generic)({
    name: "talos: sync start",
    default: function(...args) {
        throw new Error(`talos sync start: input is malformed ${JSON.stringify(args)}`);
    }
});
(0, _generic.generic)(start, _type.isObject, function(machine) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos);
});
// Create generator where state machine consumes its own context repeatedly.
(0, _generic.generic)(start, _talos.Talos.isType, function*(talos) {
    var ref;
    while(true){
        ref = Step.tick(talos, talos.context);
        for (talos of ref){
            if (talos.ended) {
                yield talos;
                return;
            }
        }
        yield talos; // prevents accumulation
    }
});
(0, _generic.generic)(start, _type.isObject, _type.isIterable, function(machine, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos, events);
});
// Create generator where state machine consumes values from iterator.
(0, _generic.generic)(start, _talos.Talos.isType, _type.isIterable, function*(talos, events) {
    var event, ref;
    for (event of events){
        ref = Step.tick(talos, event);
        for (talos of ref){
            if (talos.ended) {
                yield talos;
                return;
            }
        }
        yield talos; // prevents accumulation
    }
});
(0, _generic.generic)(start, _type.isObject, _type.isObject, function(machine, context) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, function(talos, context) {
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _type.isObject, _type.isObject, _type.isIterable, function(machine, context, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos, events);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, _type.isIterable, function(talos, context, events) {
    talos.context = context;
    return start(talos, events);
});
// Convenience function to keep going and only return the final talos.
run = (0, _generic.generic)({
    name: "talos: sync run",
    default: function(...args) {
        throw new Error(`talos sync run: input is malformed ${JSON.stringify(args)}`);
    }
});
(0, _generic.generic)(run, _type.isIterable, function(cycle) {
    var result, talos;
    for (talos of cycle){
        result = talos;
    }
    return result;
});
// Convenience function to provide a curried functional interface for cycle run.
// "start" allows first argument to be talos instance or machine definition.
build = function(talos) {
    return function(...args) {
        return run(start(talos, ...args));
    };
};
pipe = function(fx) {
    var machine;
    machine = _machine.Machine.make(fx);
    return function(context) {
        var cycle, talos;
        cycle = start(machine, context);
        talos = run(cycle);
        if (talos.error != null) {
            throw talos.error;
        }
        return talos.context;
    };
};
pipeWith = _function.curry(function(f, gx) {
    var machine;
    machine = _machine.Machine.make(gx);
    return function(context) {
        var cycle, result, talos;
        cycle = start(machine, context);
        result = null;
        for (talos of cycle){
            f(talos);
            result = talos;
        }
        if (result.error != null) {
            throw result.error;
        }
        return result.context;
    };
});
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL0BkYXNoa2l0ZS90YWxvcy9zcmMvc3luYy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxFQUFBOztBQUFBLE9BQUE7RUFBUyxPQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFPLENBQUEsTUFBUCxNQUFBOztBQUNBLE9BQU8sQ0FBQSxRQUFQLE1BQUE7O0FBQ0EsT0FBTyxHQUFQLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLE9BQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxLQUFUO0NBQUEsTUFBQTs7QUFHQSxJQUFBLEdBQ0U7RUFBQSxXQUFBLEVBQWEsUUFBQSxDQUFFLEtBQUYsQ0FBQTtBQUNmLFFBQUE7SUFBSSxNQUFBLEdBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUUsS0FBSyxDQUFDLEtBQVI7SUFDNUIsSUFBSSxjQUFKO01BQ0UsS0FBSyxDQUFDLEtBQU4sQ0FBWSxJQUFJLEtBQUosQ0FBVSxxQ0FBVixDQUFaLEVBREY7O1dBRUE7RUFKVyxDQUFiO0VBTUEsU0FBQSxFQUFXLFFBQUEsQ0FBRSxNQUFGLEVBQVUsS0FBVixFQUFpQixLQUFqQixDQUFBO0FBQ2IsUUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7QUFBSTtJQUFBLEtBQUEscUNBQUE7O0FBQ0U7UUFDRSxJQUFHLENBQUUsSUFBSSxDQUFDLElBQUwsQ0FBVSxLQUFWLEVBQWlCLEtBQWpCLENBQUYsQ0FBQSxLQUE4QixJQUFqQztBQUNFLGlCQUFPLEtBRFQ7U0FERjtPQUdBLGNBQUE7UUFBTTtBQUNKLGVBQU8sS0FBSyxDQUFDLEtBQU4sQ0FBWSxLQUFaLEVBRFQ7O0lBSkY7V0FNQSxLQUFLLENBQUMsS0FBTixDQUFZLElBQUksS0FBSixDQUFVLDRCQUFWLENBQVo7RUFQUyxDQU5YO0VBZUEs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QUFNLENBQUM7RUFSVDtBQUZrQixDQUFUOztBQVlYLE9BQUE7RUFDRSxJQURGO0VBRUUsS0FGRjtFQUdFLEdBSEY7RUFJRSxLQUpGO0VBS0UsSUFMRjtFQU1FLFFBTkYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmljIH0gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZ2VuZXJpY1wiXG5pbXBvcnQgKiBhcyBGbiBmcm9tIFwiQGRhc2hraXRlL2pveS9mdW5jdGlvblwiXG5pbXBvcnQgKiBhcyBUeXBlIGZyb20gXCJAZGFzaGtpdGUvam95L3R5cGVcIlxuaW1wb3J0IGxvZyBmcm9tIFwiQGRhc2hraXRlL2thaWtvXCJcbmltcG9ydCB7IE1hY2hpbmUgfSBmcm9tIFwiLi9tYWNoaW5lXCJcbmltcG9ydCB7IFRhbG9zIH0gZnJvbSBcIi4vdGFsb3NcIlxuXG5cblN0ZXAgPVxuICBtYXRjaFZlcnRleDogKCB0YWxvcyApIC0+XG4gICAgdmVydGV4ID0gdGFsb3MubWFjaGluZS5ncmFwaFsgdGFsb3Muc3RhdGUgXVxuICAgIGlmICF2ZXJ0ZXg/XG4gICAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJ0YWxvcyBzdGF0ZSBpcyBub3QgaW4gbWFjaGluZSBncmFwaFwiXG4gICAgdmVydGV4XG5cbiAgbWF0Y2hFZGdlOiAoIHZlcnRleCwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBmb3IgZWRnZSBpbiB2ZXJ0ZXguZWRnZXNcbiAgICAgIHRyeVxuICAgICAgICBpZiAoIGVkZ2Uud2hlbiB0YWxvcywgZXZlbnQgKSA9PSB0cnVlXG4gICAgICAgICAgcmV0dXJuIGVkZ2VcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHJldHVybiB0YWxvcy5jYXRjaCBlcnJvclxuICAgIHRhbG9zLmNhdGNoIG5ldyBFcnJvciBcIm5vIG1hdGNoaW5nIHdoZW4gY29uZGl0aW9uXCJcblxuICBydW46ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBpZiBlZGdlLnJ1bj9cbiAgICAgIHRyeVxuICAgICAgICBlZGdlLnJ1biB0YWxvcywgZXZlbnRcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG5cbiAgbW92ZTogKCBlZGdlLCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIHRyeVxuICAgICAgZWRnZS5tb3ZlIHRhbG9zLCBldmVudFxuICAgIGNhdGNoIGVycm9yXG4gICAgICB0YWxvcy5jYXRjaCBlcnJvclxuXG4gIHRpY2s6ICggdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB2ZXJ0ZXggPSBTdGVwLm1hdGNoVmVydGV4IHRhbG9zXG4gICAgeWllbGQgdGFsb3NcbiAgICBlZGdlID0gU3RlcC5tYXRjaEVkZ2UgdmVydGV4LCB0YWxvcywgZXZlbnRcbiAgICB5aWVsZCB0YWxvc1xuICAgIFN0ZXAucnVuIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG4gICAgU3RlcC5tb3ZlIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG5cblxuc3RhcnQgPSBnZW5lcmljIFxuICBuYW1lOiBcInRhbG9zOiBzeW5jIHN0YXJ0XCJcbiAgZGVmYXVsdDogKCBhcmdzLi4uICkgLT5cbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJ0YWxvcyBzeW5jIHN0YXJ0OiBpbnB1dCBpcyBtYWxmb3JtZWQgI3sgSlNPTi5zdHJpbmdpZnkgYXJncyB9XCJcblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgKCBtYWNoaW5lICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3NcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgaXRzIG93biBjb250ZXh0IHJlcGVhdGVkbHkuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsICggdGFsb3MgKSAtPlxuICBsb29wXG4gICAgZm9yIHRhbG9zIGZyb20gU3RlcC50aWNrIHRhbG9zLCB0YWxvcy5jb250ZXh0XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgVHlwZS5pc0l0ZXJhYmxlLCAoIG1hY2hpbmUsIGV2ZW50cyApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgdmFsdWVzIGZyb20gaXRlcmF0b3IuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIFR5cGUuaXNJdGVyYWJsZSwgKCB0YWxvcywgZXZlbnRzICkgLT5cbiAgZm9yIGV2ZW50IGZyb20gZXZlbnRzXG4gICAgZm9yIHRhbG9zIGZyb20gU3RlcC50aWNrIHRhbG9zLCBldmVudFxuICAgICAgaWYgdGFsb3MuZW5kZWRcbiAgICAgICAgeWllbGQgdGFsb3NcbiAgICAgICAgcmV0dXJuXG4gICAgeWllbGQgdGFsb3NcbiAgcmV0dXJuICMgcHJldmVudHMgYWNjdW11bGF0aW9uXG5cbmdlbmVyaWMgc3RhcnQsIFR5cGUuaXNPYmplY3QsIFR5cGUuaXNPYmplY3QsICggbWFjaGluZSwgY29udGV4dCApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zXG5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc09iamVjdCwgKCB0YWxvcywgY29udGV4dCApIC0+XG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zXG5cbmdlbmVyaWMgc3RhcnQsIFR5cGUuaXNPYmplY3QsIFR5cGUuaXNPYmplY3QsIFR5cGUuaXNJdGVyYWJsZSwgKCBtYWNoaW5lLCBjb250ZXh0LCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc09iamVjdCwgVHlwZS5pc0l0ZXJhYmxlLCAoIHRhbG9zLCBjb250ZXh0LCBldmVudHMgKSAtPlxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cblxuIyBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBrZWVwIGdvaW5nIGFuZCBvbmx5IHJldHVybiB0aGUgZmluYWwgdGFsb3MuXG5ydW4gPSBnZW5lcmljIFxuICBuYW1lOiBcInRhbG9zOiBzeW5jIHJ1blwiXG4gIGRlZmF1bHQ6ICggYXJncy4uLiApIC0+IFxuICAgIHRocm93IG5ldyBFcnJvciBcInRhbG9zIHN5bmMgcnVuOiBpbnB1dCBpcyBtYWxmb3JtZWQgI3sgSlNPTi5zdHJpbmdpZnkgYXJncyB9XCJcblxuZ2VuZXJpYyBydW4sIFR5cGUuaXNJdGVyYWJsZSwgKCBjeWNsZSApIC0+XG4gIGZvciB0YWxvcyBmcm9tIGN5Y2xlXG4gICAgcmVzdWx0ID0gdGFsb3NcbiAgcmVzdWx0XG5cbiMgQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gcHJvdmlkZSBhIGN1cnJpZWQgZnVuY3Rpb25hbCBpbnRlcmZhY2UgZm9yIGN5Y2xlIHJ1bi5cbiMgXCJzdGFydFwiIGFsbG93cyBmaXJzdCBhcmd1bWVudCB0byBiZSB0YWxvcyBpbnN0YW5jZSBvciBtYWNoaW5lIGRlZmluaXRpb24uXG5idWlsZCA9ICggdGFsb3MgKSAtPlxuICAoIGFyZ3MuLi4gKSAtPiBydW4gc3RhcnQgdGFsb3MsIGFyZ3MuLi5cblxucGlwZSA9ICggZnggKSAtPlxuICBtYWNoaW5lID0gTWFjaGluZS5tYWtlIGZ4XG4gICggY29udGV4dCApIC0+IFxuICAgIGN5Y2xlID0gc3RhcnQgbWFjaGluZSwgY29udGV4dFxuICAgIHRhbG9zID0gcnVuIGN5Y2xlXG4gICAgaWYgdGFsb3MuZXJyb3I/XG4gICAgICB0aHJvdyB0YWxvcy5lcnJvclxuICAgIHRhbG9zLmNvbnRleHRcblxucGlwZVdpdGggPSBGbi5jdXJyeSAoIGYsIGd4ICkgLT5cbiAgbWFjaGluZSA9IE1hY2hpbmUubWFrZSBneFxuICAoIGNvbnRleHQgKSAtPiBcbiAgICBjeWNsZSA9IHN0YXJ0IG1hY2hpbmUsIGNvbnRleHRcbiAgICByZXN1bHQgPSBudWxsXG4gICAgZm9yIHRhbG9zIGZyb20gY3ljbGVcbiAgICAgIGYgdGFsb3NcbiAgICAgIHJlc3VsdCA9IHRhbG9zXG4gICAgaWYgcmVzdWx0LmVycm9yP1xuICAgICAgdGhyb3cgcmVzdWx0LmVycm9yXG4gICAgcmVzdWx0LmNvbnRleHRcblxuZXhwb3J0IHtcbiAgU3RlcCAgXG4gIHN0YXJ0XG4gIHJ1blxuICBidWlsZFxuICBwaXBlXG4gIHBpcGVXaXRoXG59Il19
 //# sourceURL=/@dashkite/talos/src/sync.coffee

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9AZGFzaGtpdGUvdGFsb3Mvc3JjL3N5bmMuY29mZmVlIiwiPGFub24+Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdlbmVyaWMgfSBmcm9tIFwiQGRhc2hraXRlL2pveS9nZW5lcmljXCJcbmltcG9ydCAqIGFzIEZuIGZyb20gXCJAZGFzaGtpdGUvam95L2Z1bmN0aW9uXCJcbmltcG9ydCAqIGFzIFR5cGUgZnJvbSBcIkBkYXNoa2l0ZS9qb3kvdHlwZVwiXG5pbXBvcnQgbG9nIGZyb20gXCJAZGFzaGtpdGUva2Fpa29cIlxuaW1wb3J0IHsgTWFjaGluZSB9IGZyb20gXCIuL21hY2hpbmVcIlxuaW1wb3J0IHsgVGFsb3MgfSBmcm9tIFwiLi90YWxvc1wiXG5cblxuU3RlcCA9XG4gIG1hdGNoVmVydGV4OiAoIHRhbG9zICkgLT5cbiAgICB2ZXJ0ZXggPSB0YWxvcy5tYWNoaW5lLmdyYXBoWyB0YWxvcy5zdGF0ZSBdXG4gICAgaWYgIXZlcnRleD9cbiAgICAgIHRhbG9zLmNhdGNoIG5ldyBFcnJvciBcInRhbG9zIHN0YXRlIGlzIG5vdCBpbiBtYWNoaW5lIGdyYXBoXCJcbiAgICB2ZXJ0ZXhcblxuICBtYXRjaEVkZ2U6ICggdmVydGV4LCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIGZvciBlZGdlIGluIHZlcnRleC5lZGdlc1xuICAgICAgdHJ5XG4gICAgICAgIGlmICggZWRnZS53aGVuIHRhbG9zLCBldmVudCApID09IHRydWVcbiAgICAgICAgICByZXR1cm4gZWRnZVxuICAgICAgY2F0Y2ggZXJyb3JcbiAgICAgICAgcmV0dXJuIHRhbG9zLmNhdGNoIGVycm9yXG4gICAgdGFsb3MuY2F0Y2ggbmV3IEVycm9yIFwibm8gbWF0Y2hpbmcgd2hlbiBjb25kaXRpb25cIlxuXG4gIHJ1bjogKCBlZGdlLCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIGlmIGVkZ2UucnVuP1xuICAgICAgdHJ5XG4gICAgICAgIGVkZ2UucnVuIHRhbG9zLCBldmVudFxuICAgICAgY2F0Y2ggZXJyb3JcbiAgICAgICAgdGFsb3MuY2F0Y2ggZXJyb3JcblxuICBtb3ZlOiAoIGVkZ2UsIHRhbG9zLCBldmVudCApIC0+XG4gICAgdHJ5XG4gICAgICBlZGdlLm1vdmUgdGFsb3MsIGV2ZW50XG4gICAgY2F0Y2ggZXJyb3JcbiAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG5cbiAgdGljazogKCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIHZlcnRleCA9IFN0ZXAubWF0Y2hWZXJ0ZXggdGFsb3NcbiAgICB5aWVsZCB0YWxvc1xuICAgIGVkZ2UgPSBTdGVwLm1hdGNoRWRnZSB2ZXJ0ZXgsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zXG4gICAgU3RlcC5ydW4gZWRnZSwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3NcbiAgICBTdGVwLm1vdmUgZWRnZSwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3NcblxuXG5zdGFydCA9IGdlbmVyaWMgXG4gIG5hbWU6IFwidGFsb3M6IHN5bmMgc3RhcnRcIlxuICBkZWZhdWx0OiAoIGFyZ3MuLi4gKSAtPlxuICAgIHRocm93IG5ldyBFcnJvciBcInRhbG9zIHN5bmMgc3RhcnQ6IGlucHV0IGlzIG1hbGZvcm1lZCAjeyBKU09OLnN0cmluZ2lmeSBhcmdzIH1cIlxuXG5nZW5lcmljIHN0YXJ0LCBUeXBlLmlzT2JqZWN0LCAoIG1hY2hpbmUgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvc1xuXG4jIENyZWF0ZSBnZW5lcmF0b3Igd2hlcmUgc3RhdGUgbWFjaGluZSBjb25zdW1lcyBpdHMgb3duIGNvbnRleHQgcmVwZWF0ZWRseS5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgKCB0YWxvcyApIC0+XG4gIGxvb3BcbiAgICBmb3IgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIHRhbG9zLmNvbnRleHRcbiAgICAgIGlmIHRhbG9zLmVuZGVkXG4gICAgICAgIHlpZWxkIHRhbG9zXG4gICAgICAgIHJldHVyblxuICAgIHlpZWxkIHRhbG9zXG4gIHJldHVybiAjIHByZXZlbnRzIGFjY3VtdWxhdGlvblxuXG5nZW5lcmljIHN0YXJ0LCBUeXBlLmlzT2JqZWN0LCBUeXBlLmlzSXRlcmFibGUsICggbWFjaGluZSwgZXZlbnRzICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG4jIENyZWF0ZSBnZW5lcmF0b3Igd2hlcmUgc3RhdGUgbWFjaGluZSBjb25zdW1lcyB2YWx1ZXMgZnJvbSBpdGVyYXRvci5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc0l0ZXJhYmxlLCAoIHRhbG9zLCBldmVudHMgKSAtPlxuICBmb3IgZXZlbnQgZnJvbSBldmVudHNcbiAgICBmb3IgdGFsb3MgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIGV2ZW50XG4gICAgICBpZiB0YWxvcy5lbmRlZFxuICAgICAgICB5aWVsZCB0YWxvc1xuICAgICAgICByZXR1cm5cbiAgICB5aWVsZCB0YWxvc1xuICByZXR1cm4gIyBwcmV2ZW50cyBhY2N1bXVsYXRpb25cblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgVHlwZS5pc09iamVjdCwgKCBtYWNoaW5lLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCAoIHRhbG9zLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgVHlwZS5pc09iamVjdCwgVHlwZS5pc09iamVjdCwgVHlwZS5pc0l0ZXJhYmxlLCAoIG1hY2hpbmUsIGNvbnRleHQsIGV2ZW50cyApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCBUeXBlLmlzSXRlcmFibGUsICggdGFsb3MsIGNvbnRleHQsIGV2ZW50cyApIC0+XG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuXG4jIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIGtlZXAgZ29pbmcgYW5kIG9ubHkgcmV0dXJuIHRoZSBmaW5hbCB0YWxvcy5cbnJ1biA9IGdlbmVyaWMgXG4gIG5hbWU6IFwidGFsb3M6IHN5bmMgcnVuXCJcbiAgZGVmYXVsdDogKCBhcmdzLi4uICkgLT4gXG4gICAgdGhyb3cgbmV3IEVycm9yIFwidGFsb3Mgc3luYyBydW46IGlucHV0IGlzIG1hbGZvcm1lZCAjeyBKU09OLnN0cmluZ2lmeSBhcmdzIH1cIlxuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0l0ZXJhYmxlLCAoIGN5Y2xlICkgLT5cbiAgZm9yIHRhbG9zIGZyb20gY3ljbGVcbiAgICByZXN1bHQgPSB0YWxvc1xuICByZXN1bHRcblxuIyBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBwcm92aWRlIGEgY3VycmllZCBmdW5jdGlvbmFsIGludGVyZmFjZSBmb3IgY3ljbGUgcnVuLlxuIyBcInN0YXJ0XCIgYWxsb3dzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIHRhbG9zIGluc3RhbmNlIG9yIG1hY2hpbmUgZGVmaW5pdGlvbi5cbmJ1aWxkID0gKCB0YWxvcyApIC0+XG4gICggYXJncy4uLiApIC0+IHJ1biBzdGFydCB0YWxvcywgYXJncy4uLlxuXG5waXBlID0gKCBmeCApIC0+XG4gIG1hY2hpbmUgPSBNYWNoaW5lLm1ha2UgZnhcbiAgKCBjb250ZXh0ICkgLT4gXG4gICAgY3ljbGUgPSBzdGFydCBtYWNoaW5lLCBjb250ZXh0XG4gICAgdGFsb3MgPSBydW4gY3ljbGVcbiAgICBpZiB0YWxvcy5lcnJvcj9cbiAgICAgIHRocm93IHRhbG9zLmVycm9yXG4gICAgdGFsb3MuY29udGV4dFxuXG5waXBlV2l0aCA9IEZuLmN1cnJ5ICggZiwgZ3ggKSAtPlxuICBtYWNoaW5lID0gTWFjaGluZS5tYWtlIGd4XG4gICggY29udGV4dCApIC0+IFxuICAgIGN5Y2xlID0gc3RhcnQgbWFjaGluZSwgY29udGV4dFxuICAgIHJlc3VsdCA9IG51bGxcbiAgICBmb3IgdGFsb3MgZnJvbSBjeWNsZVxuICAgICAgZiB0YWxvc1xuICAgICAgcmVzdWx0ID0gdGFsb3NcbiAgICBpZiByZXN1bHQuZXJyb3I/XG4gICAgICB0aHJvdyByZXN1bHQuZXJyb3JcbiAgICByZXN1bHQuY29udGV4dFxuXG5leHBvcnQge1xuICBTdGVwICBcbiAgc3RhcnRcbiAgcnVuXG4gIGJ1aWxkXG4gIHBpcGVcbiAgcGlwZVdpdGhcbn0iLG51bGxdLCJuYW1lcyI6WyJTdGVwIiwic3RhcnQiLCJydW4iLCJidWlsZCIsInBpcGUiLCJwaXBlV2l0aCIsIm1hdGNoVmVydGV4IiwidGFsb3MiLCJ2ZXJ0ZXgiLCJtYWNoaW5lIiwiZ3JhcGgiLCJzdGF0ZSIsImNhdGNoIiwiRXJyb3IiLCJtYXRjaEVkZ2UiLCJldmVudCIsImVkZ2UiLCJlcnJvciIsImkiLCJsZW4iLCJyZWYiLCJlZGdlcyIsImxlbmd0aCIsIndoZW4iLCJlcnJvcjEiLCJtb3ZlIiwidGljayIsImdlbmVyaWMiLCJuYW1lIiwiZGVmYXVsdCIsImFyZ3MiLCJKU09OIiwic3RyaW5naWZ5IiwiVHlwZSIsImlzT2JqZWN0IiwiVGFsb3MiLCJtYWtlIiwiaXNUeXBlIiwiY29udGV4dCIsImVuZGVkIiwiaXNJdGVyYWJsZSIsImV2ZW50cyIsImN5Y2xlIiwicmVzdWx0IiwiZngiLCJNYWNoaW5lIiwiRm4iLCJjdXJyeSIsImYiLCJneCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUEwSUVBLElBREY7ZUFDRUE7O0lBQ0FDLEtBRkY7ZUFFRUE7O0lBQ0FDLEdBSEY7ZUFHRUE7O0lBQ0FDLEtBSkY7ZUFJRUE7O0lBQ0FDLElB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