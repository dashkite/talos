"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    Step: function() {
        return Step;
    },
    start: function() {
        return start;
    },
    run: function() {
        return run;
    },
    flow: function() {
        return flow;
    }
});
const _generic = require("@dashkite/joy/generic");
const _function = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/function"));
const _type = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/type"));
const _machine = _export_star(require("./machine"), exports);
const _talos = _export_star(require("./talos"), exports);
const _types = _export_star(require("./types"), exports);
_export_star(require("./states"), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
var Step, flow, run, start;
Step = {
    matchVertex: function(talos) {
        var vertex;
        vertex = talos.machine.graph[talos.state];
        if (vertex == null) {
            talos.catch(new Error("talos: state is not in machine graph"));
        }
        return vertex;
    },
    matchEdge: async function(vertex, talos, event) {
        var edge, error, i, len, ref;
        ref = vertex.edges;
        for(i = 0, len = ref.length; i < len; i++){
            edge = ref[i];
            try {
                if (await edge.when(talos, event) === true) {
                    return edge;
                }
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
        return talos.catch(new Error("talos: no matching when condition"));
    },
    run: async function*(edge, talos, event) {
        var error, inner, ref;
        try {
            if ((0, _types.isGeneratorFunctionKind)(edge.run)) {
                ref = edge.run(talos, event);
                for await (inner of ref){
                    yield inner; // prevent accumulation
                }
            } else if (_type.isFunction(edge.run)) {
                return await edge.run(talos, event);
            }
        } catch (error1) {
            error = error1;
            talos.catch(error);
            return yield talos;
        }
    },
    move: async function(edge, talos, event) {
        var error;
        try {
            return await edge.move(talos, event);
        } catch (error1) {
            error = error1;
            return talos.catch(error);
        }
    },
    tick: async function*(talos, event) {
        var edge, inner, ref, vertex;
        vertex = Step.matchVertex(talos);
        if (talos.ended) {
            yield talos;
        }
        edge = await Step.matchEdge(vertex, talos, event);
        if (talos.ended) {
            yield talos;
        }
        ref = Step.run(edge, talos, event);
        for await (inner of ref){
            yield inner;
        }
        if (talos.ended) {
            yield talos;
        }
        await Step.move(edge, talos, event);
        return yield talos; // this is the happy-path yield
    }
};
start = (0, _generic.generic)({
    name: "talos: async start"
});
(0, _generic.generic)(start, _types.isMachine, function(machine) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos);
});
// Create generator where state machine consumes its own context repeatedly.
(0, _generic.generic)(start, _talos.Talos.isType, async function*(talos) {
    var current, ref;
    while(true){
        ref = Step.tick(talos, talos.context);
        for await (current of ref){
            yield current;
            if (talos.ended) {
                return;
            }
        }
    }
});
(0, _generic.generic)(start, _types.isMachine, _types.isIteratorKind, function(machine, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos, events);
});
// Create generator where state machine consumes values from reactor.
(0, _generic.generic)(start, _talos.Talos.isType, _types.isIteratorKind, async function*(talos, events) {
    var current, event, ref;
    for await (event of events){
        ref = Step.tick(talos, event);
        for await (current of ref){
            yield current;
            if (talos.ended) {
                return;
            }
        }
    }
});
(0, _generic.generic)(start, _types.isMachine, _type.isObject, function(machine, context) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, function(talos, context) {
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _types.isMachine, _type.isObject, _types.isIteratorKind, function(machine, context, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos, events);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, _types.isIteratorKind, function(talos, context, events) {
    talos.context = context;
    return start(talos, events);
});
// Convenience function to keep going and only return the final talos.
run = (0, _generic.generic)({
    name: "talos: async run"
});
// Further convenience to support automatically using start.
(0, _generic.generic)(run, _type.isAny, function(...args) {
    return run(start(...args));
});
(0, _generic.generic)(run, _type.isReactor, async function(reactor) {
    var result, talos;
    for await (talos of reactor){
        result = talos;
    }
    return result;
});
flow = function(fx) {
    return async function(...args) {
        var talos;
        talos = await run(start(fx, ...args));
        if (talos.error != null) {
            throw talos.error;
        }
        return talos.context;
    };
};
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL0BkYXNoa2l0ZS90YWxvcy9zcmMvYXN5bmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUE7O0FBQUEsT0FBQTtFQUFTLE9BQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQU8sQ0FBQSxNQUFQLE1BQUE7O0FBQ0EsT0FBTyxDQUFBLFFBQVAsTUFBQTs7QUFDQSxPQUFBO0VBQVMsT0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLEtBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxTQUFUO0VBQW9CLGNBQXBCO0VBQW9DLHVCQUFwQztDQUFBLE1BQUE7O0FBR0EsSUFBQSxHQUNFO0VBQUEsV0FBQSxFQUFhLFFBQUEsQ0FBRSxLQUFGLENBQUE7QUFDZixRQUFBO0lBQUksTUFBQSxHQUFTLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFFLEtBQUssQ0FBQyxLQUFSO0lBQzVCLElBQUksY0FBSjtNQUNFLEtBQUssQ0FBQyxLQUFOLENBQVksSUFBSSxLQUFKLENBQVUsc0NBQVYsQ0FBWixFQURGOztXQUVBO0VBSlcsQ0FBYjtFQU1BLFNBQUEsRUFBVyxNQUFBLFFBQUEsQ0FBRSxNQUFGLEVBQVUsS0FBVixFQUFpQixLQUFqQixDQUFBO0FBQ2IsUUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7QUFBSTtJQUFBLEtBQUEscUNBQUE7O0FBQ0U7UUFDRSxJQUFHLENBQUUsQ0FBQSxNQUFNLElBQUksQ0FBQyxJQUFMLENBQVUsS0FBVixFQUFpQixLQUFqQixDQUFOLENBQUYsQ0FBQSxLQUFvQyxJQUF2QztBQUNFLGlCQUFPLEtBRFQ7U0FERjtPQUdBLGNBQUE7UUFBTTtBQUNKLGVBQU8sS0FBSyxDQUFDLEtBQU4sQ0FBWSxLQUFaLEVBRFQ7O0lBSkY7V0FNQSxLQUFLLENBQUMsS0FBTixDQUFZLElBQUks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SUFBQSxFQUFNO0FBQU4sQ0FBUixFQWxHTjs7O0FBcUdBLE9BQUEsQ0FBUSxHQUFSLEVBQWEsSUFBSSxDQUFDLEtBQWxCLEVBQXlCLFFBQUEsQ0FBQSxHQUFFLElBQUYsQ0FBQTtTQUN2QixHQUFBLENBQUksS0FBQSxDQUFNLEdBQUEsSUFBTixDQUFKO0FBRHVCLENBQXpCOztBQUdBLE9BQUEsQ0FBUSxHQUFSLEVBQWEsSUFBSSxDQUFDLFNBQWxCLEVBQTZCLE1BQUEsUUFBQSxDQUFFLE9BQUYsQ0FBQTtBQUM3QixNQUFBLE1BQUEsRUFBQTtFQUFFLDRCQUFBO0lBQ0UsTUFBQSxHQUFTO0VBRFg7U0FFQTtBQUgyQixDQUE3Qjs7QUFLQSxJQUFBLEdBQU8sUUFBQSxDQUFFLEVBQUYsQ0FBQTtTQUNMLE1BQUEsUUFBQSxDQUFBLEdBQUUsSUFBRixDQUFBO0FBQ0YsUUFBQTtJQUFJLEtBQUEsR0FBUSxDQUFBLE1BQU0sR0FBQSxDQUFJLEtBQUEsQ0FBTSxFQUFOLEVBQVUsR0FBQSxJQUFWLENBQUosQ0FBTjtJQUNSLElBQUcsbUJBQUg7TUFDRSxNQUFNLEtBQUssQ0FBQyxNQURkOztXQUVBLEtBQUssQ0FBQztFQUpSO0FBREs7O0FBT1AsT0FBQSxDQUFBOztBQUNBLE9BQUEsQ0FBQTs7QUFDQSxPQUFBLENBQUE7O0FBQ0EsT0FBQSxDQUFBOztBQUNBLE9BQUE7RUFDRSxJQURGO0VBRUUsS0FGRjtFQUdFLEdBSEY7RUFJRSxJQUpGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJpYyB9IGZyb20gXCJAZGFzaGtpdGUvam95L2dlbmVyaWNcIlxuaW1wb3J0ICogYXMgRm4gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZnVuY3Rpb25cIlxuaW1wb3J0ICogYXMgVHlwZSBmcm9tIFwiQGRhc2hraXRlL2pveS90eXBlXCJcbmltcG9ydCB7IE1hY2hpbmUgfSBmcm9tIFwiLi9tYWNoaW5lXCJcbmltcG9ydCB7IFRhbG9zIH0gZnJvbSBcIi4vdGFsb3NcIlxuaW1wb3J0IHsgaXNNYWNoaW5lLCBpc0l0ZXJhdG9yS2luZCwgaXNHZW5lcmF0b3JGdW5jdGlvbktpbmQgfSBmcm9tIFwiLi90eXBlc1wiXG5cblxuU3RlcCA9XG4gIG1hdGNoVmVydGV4OiAoIHRhbG9zICkgLT5cbiAgICB2ZXJ0ZXggPSB0YWxvcy5tYWNoaW5lLmdyYXBoWyB0YWxvcy5zdGF0ZSBdXG4gICAgaWYgIXZlcnRleD9cbiAgICAgIHRhbG9zLmNhdGNoIG5ldyBFcnJvciBcInRhbG9zOiBzdGF0ZSBpcyBub3QgaW4gbWFjaGluZSBncmFwaFwiXG4gICAgdmVydGV4XG5cbiAgbWF0Y2hFZGdlOiAoIHZlcnRleCwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICBmb3IgZWRnZSBpbiB2ZXJ0ZXguZWRnZXNcbiAgICAgIHRyeVxuICAgICAgICBpZiAoIGF3YWl0IGVkZ2Uud2hlbiB0YWxvcywgZXZlbnQgKSA9PSB0cnVlXG4gICAgICAgICAgcmV0dXJuIGVkZ2VcbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICAgIHJldHVybiB0YWxvcy5jYXRjaCBlcnJvclxuICAgIHRhbG9zLmNhdGNoIG5ldyBFcnJvciBcInRhbG9zOiBubyBtYXRjaGluZyB3aGVuIGNvbmRpdGlvblwiXG5cbiAgcnVuOiAoIGVkZ2UsIHRhbG9zLCBldmVudCApIC0+XG4gICAgdHJ5XG4gICAgICBpZiBpc0dlbmVyYXRvckZ1bmN0aW9uS2luZCBlZGdlLnJ1blxuICAgICAgICBmb3IgYXdhaXQgaW5uZXIgZnJvbSBlZGdlLnJ1biB0YWxvcywgZXZlbnRcbiAgICAgICAgICB5aWVsZCBpbm5lclxuICAgICAgICByZXR1cm4gICMgcHJldmVudCBhY2N1bXVsYXRpb25cbiAgICAgIGVsc2UgaWYgVHlwZS5pc0Z1bmN0aW9uIGVkZ2UucnVuXG4gICAgICAgIGF3YWl0IGVkZ2UucnVuIHRhbG9zLCBldmVudFxuICAgIGNhdGNoIGVycm9yXG4gICAgICB0YWxvcy5jYXRjaCBlcnJvclxuICAgICAgeWllbGQgdGFsb3NcblxuICBtb3ZlOiAoIGVkZ2UsIHRhbG9zLCBldmVudCApIC0+XG4gICAgdHJ5XG4gICAgICBhd2FpdCBlZGdlLm1vdmUgdGFsb3MsIGV2ZW50XG4gICAgY2F0Y2ggZXJyb3JcbiAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG5cbiAgdGljazogKCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIHZlcnRleCA9IFN0ZXAubWF0Y2hWZXJ0ZXggdGFsb3NcbiAgICB5aWVsZCB0YWxvcyBpZiB0YWxvcy5lbmRlZFxuICAgIGVkZ2UgPSBhd2FpdCBTdGVwLm1hdGNoRWRnZSB2ZXJ0ZXgsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zIGlmIHRhbG9zLmVuZGVkXG4gICAgZm9yIGF3YWl0IGlubmVyIGZyb20gU3RlcC5ydW4gZWRnZSwgdGFsb3MsIGV2ZW50XG4gICAgICB5aWVsZCBpbm5lclxuICAgIHlpZWxkIHRhbG9zIGlmIHRhbG9zLmVuZGVkXG4gICAgYXdhaXQgU3RlcC5tb3ZlIGVkZ2UsIHRhbG9zLCBldmVudFxuICAgIHlpZWxkIHRhbG9zICAgIyB0aGlzIGlzIHRoZSBoYXBweS1wYXRoIHlpZWxkXG5cblxuc3RhcnQgPSBnZW5lcmljIG5hbWU6IFwidGFsb3M6IGFzeW5jIHN0YXJ0XCJcblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCAoIG1hY2hpbmUgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvc1xuXG4jIENyZWF0ZSBnZW5lcmF0b3Igd2hlcmUgc3RhdGUgbWFjaGluZSBjb25zdW1lcyBpdHMgb3duIGNvbnRleHQgcmVwZWF0ZWRseS5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgKCB0YWxvcyApIC0+XG4gIGxvb3BcbiAgICBmb3IgYXdhaXQgY3VycmVudCBmcm9tIFN0ZXAudGljayB0YWxvcywgdGFsb3MuY29udGV4dFxuICAgICAgeWllbGQgY3VycmVudFxuICAgICAgcmV0dXJuIGlmIHRhbG9zLmVuZGVkXG5cbmdlbmVyaWMgc3RhcnQsIGlzTWFjaGluZSwgaXNJdGVyYXRvcktpbmQsICggbWFjaGluZSwgZXZlbnRzICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG4jIENyZWF0ZSBnZW5lcmF0b3Igd2hlcmUgc3RhdGUgbWFjaGluZSBjb25zdW1lcyB2YWx1ZXMgZnJvbSByZWFjdG9yLlxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBpc0l0ZXJhdG9yS2luZCwgKCB0YWxvcywgZXZlbnRzICkgLT5cbiAgZm9yIGF3YWl0IGV2ZW50IGZyb20gZXZlbnRzXG4gICAgZm9yIGF3YWl0IGN1cnJlbnQgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIGV2ZW50XG4gICAgICB5aWVsZCBjdXJyZW50XG4gICAgICByZXR1cm4gaWYgdGFsb3MuZW5kZWRcblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCBUeXBlLmlzT2JqZWN0LCAoIG1hY2hpbmUsIGNvbnRleHQgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvc1xuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIFR5cGUuaXNPYmplY3QsICggdGFsb3MsIGNvbnRleHQgKSAtPlxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvc1xuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNPYmplY3QsIGlzSXRlcmF0b3JLaW5kLCAoIG1hY2hpbmUsIGNvbnRleHQsIGV2ZW50cyApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zLCBldmVudHNcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCBpc0l0ZXJhdG9yS2luZCwgKCB0YWxvcywgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5cbiMgQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8ga2VlcCBnb2luZyBhbmQgb25seSByZXR1cm4gdGhlIGZpbmFsIHRhbG9zLlxucnVuID0gZ2VuZXJpYyBuYW1lOiBcInRhbG9zOiBhc3luYyBydW5cIlxuXG4jIEZ1cnRoZXIgY29udmVuaWVuY2UgdG8gc3VwcG9ydCBhdXRvbWF0aWNhbGx5IHVzaW5nIHN0YXJ0LlxuZ2VuZXJpYyBydW4sIFR5cGUuaXNBbnksICggYXJncy4uLiApIC0+XG4gIHJ1biBzdGFydCBhcmdzLi4uXG5cbmdlbmVyaWMgcnVuLCBUeXBlLmlzUmVhY3RvciwgKCByZWFjdG9yICkgLT5cbiAgZm9yIGF3YWl0IHRhbG9zIGZyb20gcmVhY3RvclxuICAgIHJlc3VsdCA9IHRhbG9zXG4gIHJlc3VsdFxuXG5mbG93ID0gKCBmeCApIC0+XG4gICggYXJncy4uLiApIC0+XG4gICAgdGFsb3MgPSBhd2FpdCBydW4gc3RhcnQgZngsIGFyZ3MuLi5cbiAgICBpZiB0YWxvcy5lcnJvcj9cbiAgICAgIHRocm93IHRhbG9zLmVycm9yXG4gICAgdGFsb3MuY29udGV4dFxuXG5leHBvcnQgKiBmcm9tIFwiLi9zdGF0ZXNcIlxuZXhwb3J0ICogZnJvbSBcIi4vbWFjaGluZVwiXG5leHBvcnQgKiBmcm9tIFwiLi90YWxvc1wiXG5leHBvcnQgKiBmcm9tIFwiLi90eXBlc1wiXG5leHBvcnQge1xuICBTdGVwICBcbiAgc3RhcnRcbiAgcnVuXG4gIGZsb3dcbn0iXX0=
 //# sourceURL=/@dashkite/talos/src/async.coffee

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9AZGFzaGtpdGUvdGFsb3Mvc3JjL2FzeW5jLmNvZmZlZSIsIjxhbm9uPiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmljIH0gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZ2VuZXJpY1wiXG5pbXBvcnQgKiBhcyBGbiBmcm9tIFwiQGRhc2hraXRlL2pveS9mdW5jdGlvblwiXG5pbXBvcnQgKiBhcyBUeXBlIGZyb20gXCJAZGFzaGtpdGUvam95L3R5cGVcIlxuaW1wb3J0IHsgTWFjaGluZSB9IGZyb20gXCIuL21hY2hpbmVcIlxuaW1wb3J0IHsgVGFsb3MgfSBmcm9tIFwiLi90YWxvc1wiXG5pbXBvcnQgeyBpc01hY2hpbmUsIGlzSXRlcmF0b3JLaW5kLCBpc0dlbmVyYXRvckZ1bmN0aW9uS2luZCB9IGZyb20gXCIuL3R5cGVzXCJcblxuXG5TdGVwID1cbiAgbWF0Y2hWZXJ0ZXg6ICggdGFsb3MgKSAtPlxuICAgIHZlcnRleCA9IHRhbG9zLm1hY2hpbmUuZ3JhcGhbIHRhbG9zLnN0YXRlIF1cbiAgICBpZiAhdmVydGV4P1xuICAgICAgdGFsb3MuY2F0Y2ggbmV3IEVycm9yIFwidGFsb3M6IHN0YXRlIGlzIG5vdCBpbiBtYWNoaW5lIGdyYXBoXCJcbiAgICB2ZXJ0ZXhcblxuICBtYXRjaEVkZ2U6ICggdmVydGV4LCB0YWxvcywgZXZlbnQgKSAtPlxuICAgIGZvciBlZGdlIGluIHZlcnRleC5lZGdlc1xuICAgICAgdHJ5XG4gICAgICAgIGlmICggYXdhaXQgZWRnZS53aGVuIHRhbG9zLCBldmVudCApID09IHRydWVcbiAgICAgICAgICByZXR1cm4gZWRnZVxuICAgICAgY2F0Y2ggZXJyb3JcbiAgICAgICAgcmV0dXJuIHRhbG9zLmNhdGNoIGVycm9yXG4gICAgdGFsb3MuY2F0Y2ggbmV3IEVycm9yIFwidGFsb3M6IG5vIG1hdGNoaW5nIHdoZW4gY29uZGl0aW9uXCJcblxuICBydW46ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB0cnlcbiAgICAgIGlmIGlzR2VuZXJhdG9yRnVuY3Rpb25LaW5kIGVkZ2UucnVuXG4gICAgICAgIGZvciBhd2FpdCBpbm5lciBmcm9tIGVkZ2UucnVuIHRhbG9zLCBldmVudFxuICAgICAgICAgIHlpZWxkIGlubmVyXG4gICAgICAgIHJldHVybiAgIyBwcmV2ZW50IGFjY3VtdWxhdGlvblxuICAgICAgZWxzZSBpZiBUeXBlLmlzRnVuY3Rpb24gZWRnZS5ydW5cbiAgICAgICAgYXdhaXQgZWRnZS5ydW4gdGFsb3MsIGV2ZW50XG4gICAgY2F0Y2ggZXJyb3JcbiAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG4gICAgICB5aWVsZCB0YWxvc1xuXG4gIG1vdmU6ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB0cnlcbiAgICAgIGF3YWl0IGVkZ2UubW92ZSB0YWxvcywgZXZlbnRcbiAgICBjYXRjaCBlcnJvclxuICAgICAgdGFsb3MuY2F0Y2ggZXJyb3JcblxuICB0aWNrOiAoIHRhbG9zLCBldmVudCApIC0+XG4gICAgdmVydGV4ID0gU3RlcC5tYXRjaFZlcnRleCB0YWxvc1xuICAgIHlpZWxkIHRhbG9zIGlmIHRhbG9zLmVuZGVkXG4gICAgZWRnZSA9IGF3YWl0IFN0ZXAubWF0Y2hFZGdlIHZlcnRleCwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3MgaWYgdGFsb3MuZW5kZWRcbiAgICBmb3IgYXdhaXQgaW5uZXIgZnJvbSBTdGVwLnJ1biBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICAgIHlpZWxkIGlubmVyXG4gICAgeWllbGQgdGFsb3MgaWYgdGFsb3MuZW5kZWRcbiAgICBhd2FpdCBTdGVwLm1vdmUgZWRnZSwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3MgICAjIHRoaXMgaXMgdGhlIGhhcHB5LXBhdGggeWllbGRcblxuXG5zdGFydCA9IGdlbmVyaWMgbmFtZTogXCJ0YWxvczogYXN5bmMgc3RhcnRcIlxuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsICggbWFjaGluZSApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHN0YXJ0IHRhbG9zXG5cbiMgQ3JlYXRlIGdlbmVyYXRvciB3aGVyZSBzdGF0ZSBtYWNoaW5lIGNvbnN1bWVzIGl0cyBvd24gY29udGV4dCByZXBlYXRlZGx5LlxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCAoIHRhbG9zICkgLT5cbiAgbG9vcFxuICAgIGZvciBhd2FpdCBjdXJyZW50IGZyb20gU3RlcC50aWNrIHRhbG9zLCB0YWxvcy5jb250ZXh0XG4gICAgICB5aWVsZCBjdXJyZW50XG4gICAgICByZXR1cm4gaWYgdGFsb3MuZW5kZWRcblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCBpc0l0ZXJhdG9yS2luZCwgKCBtYWNoaW5lLCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbiMgQ3JlYXRlIGdlbmVyYXRvciB3aGVyZSBzdGF0ZSBtYWNoaW5lIGNvbnN1bWVzIHZhbHVlcyBmcm9tIHJlYWN0b3IuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIGlzSXRlcmF0b3JLaW5kLCAoIHRhbG9zLCBldmVudHMgKSAtPlxuICBmb3IgYXdhaXQgZXZlbnQgZnJvbSBldmVudHNcbiAgICBmb3IgYXdhaXQgY3VycmVudCBmcm9tIFN0ZXAudGljayB0YWxvcywgZXZlbnRcbiAgICAgIHlpZWxkIGN1cnJlbnRcbiAgICAgIHJldHVybiBpZiB0YWxvcy5lbmRlZFxuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNPYmplY3QsICggbWFjaGluZSwgY29udGV4dCApIC0+XG4gIHRhbG9zID0gVGFsb3MubWFrZSBtYWNoaW5lXG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zXG5cbmdlbmVyaWMgc3RhcnQsIFRhbG9zLmlzVHlwZSwgVHlwZS5pc09iamVjdCwgKCB0YWxvcywgY29udGV4dCApIC0+XG4gIHRhbG9zLmNvbnRleHQgPSBjb250ZXh0XG4gIHN0YXJ0IHRhbG9zXG5cbmdlbmVyaWMgc3RhcnQsIGlzTWFjaGluZSwgVHlwZS5pc09iamVjdCwgaXNJdGVyYXRvcktpbmQsICggbWFjaGluZSwgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIFR5cGUuaXNPYmplY3QsIGlzSXRlcmF0b3JLaW5kLCAoIHRhbG9zLCBjb250ZXh0LCBldmVudHMgKSAtPlxuICB0YWxvcy5jb250ZXh0ID0gY29udGV4dFxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cblxuIyBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBrZWVwIGdvaW5nIGFuZCBvbmx5IHJldHVybiB0aGUgZmluYWwgdGFsb3MuXG5ydW4gPSBnZW5lcmljIG5hbWU6IFwidGFsb3M6IGFzeW5jIHJ1blwiXG5cbiMgRnVydGhlciBjb252ZW5pZW5jZSB0byBzdXBwb3J0IGF1dG9tYXRpY2FsbHkgdXNpbmcgc3RhcnQuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FueSwgKCBhcmdzLi4uICkgLT5cbiAgcnVuIHN0YXJ0IGFyZ3MuLi5cblxuZ2VuZXJpYyBydW4sIFR5cGUuaXNSZWFjdG9yLCAoIHJlYWN0b3IgKSAtPlxuICBmb3IgYXdhaXQgdGFsb3MgZnJvbSByZWFjdG9yXG4gICAgcmVzdWx0ID0gdGFsb3NcbiAgcmVzdWx0XG5cbmZsb3cgPSAoIGZ4ICkgLT5cbiAgKCBhcmdzLi4uICkgLT5cbiAgICB0YWxvcyA9IGF3YWl0IHJ1biBzdGFydCBmeCwgYXJncy4uLlxuICAgIGlmIHRhbG9zLmVycm9yP1xuICAgICAgdGhyb3cgdGFsb3MuZXJyb3JcbiAgICB0YWxvcy5jb250ZXh0XG5cbmV4cG9ydCAqIGZyb20gXCIuL3N0YXRlc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9tYWNoaW5lXCJcbmV4cG9ydCAqIGZyb20gXCIuL3RhbG9zXCJcbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzXCJcbmV4cG9ydCB7XG4gIFN0ZXAgIFxuICBzdGFydFxuICBydW5cbiAgZmxvd1xufSIsbnVsbF0sIm5hbWVzIjpbIlN0ZXAiLCJzdGFydCIsInJ1biIsImZsb3ciLCJtYXRjaFZlcnRleCIsInRhbG9zIiwidmVydGV4IiwibWFjaGluZSIsImdyYXBoIiwic3RhdGUiLCJjYXRjaCIsIkVycm9yIiwibWF0Y2hFZGdlIiwiZXZlbnQiLCJlZGdlIiwiZXJyb3IiLCJpIiwibGVuIiwicmVmIiwiZWRnZXMiLCJsZW5ndGgiLCJ3aGVuIiwiZXJyb3IxIiwiaW5uZXIiLCJpc0dlbmVyYXRvckZ1bmN0aW9uS2luZCIsIlR5cGUiLCJpc0Z1bmN0aW9uIiwibW92ZSIsInRpY2siLCJlbmRlZCIsImdlbmVyaWMiLCJuYW1lIiwiaXNNYWNoaW5lIiwiVGFsb3MiLCJtYWtlIiwiaXNUeXBlIiwiY3VycmVudCIsImNvbnRleHQiLCJpc0l0ZXJhdG9yS2luZCIsImV2ZW50cyIsImlzT2JqZWN0IiwiaXNBbnkiLCJhcmdzIiwiaXNSZWFjdG9yIiwicmVhY3RvciIsInJlc3VsdCIsImZ4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXlIRUEsSUFERjtlQUNFQTs7SUFDQUMsS0FGRjtlQUVFQTs7SUFDQUMsR0FIRjtlQUdFQTs7SUFDQUMsSUFKRjtlQUlFQTs7O3lCQTVIRjtrRUFDQTs4REFDQTtzQ0FDQTtvQ0FDQTtvQ0FDQTtxQkErR0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcEhBLElBQUFILE1BQUFHLE1BQUFELEtBQUFEO0FBUUFELE9BQ0U7SUFBQUksYUFBYSxTQUFFQyxLQUFGO1FBQ2YsSUFBQUM7UUFBSUEsU0FBU0QsTUFBTUUsT0FBTyxDQUFDQyxLQUFLLENBQUVILE1BQU1JLEtBQVIsQ0FBQTtRQUM1QixJQUFJSCxVQUFBLE1BQUo7WUFDRUQsTUFBTUssS0FBTixDQUFZLElB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