"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    Step: function() {
        return Step;
    },
    start: function() {
        return start;
    },
    run: function() {
        return run;
    },
    pipe: function() {
        return pipe;
    }
});
const _generic = require("@dashkite/joy/generic");
const _function = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/function"));
const _type = /*#__PURE__*/ _interop_require_wildcard(require("@dashkite/joy/type"));
const _machine = _export_star(require("./machine"), exports);
const _talos = _export_star(require("./talos"), exports);
const _types = _export_star(require("./types"), exports);
_export_star(require("./states"), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
var Step, pipe, run, start;
Step = {
    matchVertex: function(talos) {
        var vertex;
        vertex = talos.machine.graph[talos.state];
        if (vertex == null) {
            talos.catch(new Error("talos state is not in machine graph"));
        }
        return vertex;
    },
    matchEdge: function(vertex, talos, event) {
        var edge, error, i, len, ref;
        ref = vertex.edges;
        for(i = 0, len = ref.length; i < len; i++){
            edge = ref[i];
            try {
                if (edge.when(talos, event) === true) {
                    return edge;
                }
            } catch (error1) {
                error = error1;
                return talos.catch(error);
            }
        }
        return talos.catch(new Error("no matching when condition"));
    },
    run: function*(edge, talos, event) {
        var error, inner, ref;
        try {
            if ((0, _types.isGeneratorFunction)(edge.run)) {
                ref = edge.run(talos, event);
                for (inner of ref){
                    yield inner; // prevent accumulation
                }
            } else if (_type.isFunction(edge.run)) {
                return edge.run(talos, event);
            }
        } catch (error1) {
            error = error1;
            talos.catch(error);
            return yield talos;
        }
    },
    move: function(edge, talos, event) {
        var error;
        try {
            return edge.move(talos, event);
        } catch (error1) {
            error = error1;
            return talos.catch(error);
        }
    },
    tick: function*(talos, event) {
        var edge, inner, ref, vertex;
        vertex = Step.matchVertex(talos);
        if (talos.ended) {
            yield talos;
        }
        edge = Step.matchEdge(vertex, talos, event);
        if (talos.ended) {
            yield talos;
        }
        ref = Step.run(edge, talos, event);
        for (inner of ref){
            yield inner;
        }
        if (talos.ended) {
            yield talos;
        }
        Step.move(edge, talos, event);
        return yield talos; // this is the happy-path yield
    }
};
start = (0, _generic.generic)({
    name: "talos: sync start"
});
(0, _generic.generic)(start, _types.isMachine, function(machine) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos);
});
// Create generator where state machine consumes its own context repeatedly.
(0, _generic.generic)(start, _talos.Talos.isType, function*(talos) {
    var current, ref;
    while(true){
        ref = Step.tick(talos, talos.context);
        for (current of ref){
            yield current;
            if (talos.ended) {
                return;
            }
        }
    }
});
(0, _generic.generic)(start, _types.isMachine, _type.isIterable, function(machine, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    return start(talos, events);
});
// Create generator where state machine consumes values from iterator.
(0, _generic.generic)(start, _talos.Talos.isType, _type.isIterable, function*(talos, events) {
    var current, event, ref;
    for (event of events){
        ref = Step.tick(talos, event);
        for (current of ref){
            yield current;
            if (talos.ended) {
                return;
            }
        }
    }
});
(0, _generic.generic)(start, _types.isMachine, _type.isObject, function(machine, context) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, function(talos, context) {
    talos.context = context;
    return start(talos);
});
(0, _generic.generic)(start, _types.isMachine, _type.isObject, _type.isIterable, function(machine, context, events) {
    var talos;
    talos = _talos.Talos.make(machine);
    talos.context = context;
    return start(talos, events);
});
(0, _generic.generic)(start, _talos.Talos.isType, _type.isObject, _type.isIterable, function(talos, context, events) {
    talos.context = context;
    return start(talos, events);
});
// Convenience function to keep going and only return the final talos.
run = (0, _generic.generic)({
    name: "talos: sync run"
});
// Further convenience to support automatically using start.
(0, _generic.generic)(run, _type.isAny, function(...args) {
    return run(start(...args));
});
(0, _generic.generic)(run, _type.isIterator, function(iterator) {
    var result, talos;
    for (talos of iterator){
        result = talos;
    }
    return result;
});
pipe = function(fx) {
    return function(...args) {
        var talos;
        talos = run(start(fx, ...args));
        if (talos.error != null) {
            throw talos.error;
        }
        return talos.context;
    };
};
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL0BkYXNoa2l0ZS90YWxvcy9zcmMvc3luYy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsT0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBTyxDQUFBLE1BQVAsTUFBQTs7QUFDQSxPQUFPLENBQUEsUUFBUCxNQUFBOztBQUNBLE9BQUE7RUFBUyxPQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsS0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLFNBQVQ7RUFBb0IsbUJBQXBCO0NBQUEsTUFBQTs7QUFHQSxJQUFBLEdBQ0U7RUFBQSxXQUFBLEVBQWEsUUFBQSxDQUFFLEtBQUYsQ0FBQTtBQUNmLFFBQUE7SUFBSSxNQUFBLEdBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUUsS0FBSyxDQUFDLEtBQVI7SUFDNUIsSUFBSSxjQUFKO01BQ0UsS0FBSyxDQUFDLEtBQU4sQ0FBWSxJQUFJLEtBQUosQ0FBVSxxQ0FBVixDQUFaLEVBREY7O1dBRUE7RUFKVyxDQUFiO0VBTUEsU0FBQSxFQUFXLFFBQUEsQ0FBRSxNQUFGLEVBQVUsS0FBVixFQUFpQixLQUFqQixDQUFBO0FBQ2IsUUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7QUFBSTtJQUFBLEtBQUEscUNBQUE7O0FBQ0U7UUFDRSxJQUFHLENBQUUsSUFBSSxDQUFDLElBQUwsQ0FBVSxLQUFWLEVBQWlCLEtBQWpCLENBQUYsQ0FBQSxLQUE4QixJQUFqQztBQUNFLGlCQUFPLEtBRFQ7U0FERjtPQUdBLGNBQUE7UUFBTTtBQUNKLGVBQU8sS0FBSyxDQUFDLEtBQU4sQ0FBWSxLQUFaLEVBRFQ7O0lBSkY7V0FNQSxLQUFLLENBQUMsS0FBTixDQUFZLElBQUksS0FBSixDQUFVLDRCQUFWLENBQVo7RUFQUyxDQU5YO0VB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LEVBQWEsSUFBSSxDQUFDLEtBQWxCLEVBQXlCLFFBQUEsQ0FBQSxHQUFFLElBQUYsQ0FBQTtTQUN2QixHQUFBLENBQUksS0FBQSxDQUFNLEdBQUEsSUFBTixDQUFKO0FBRHVCLENBQXpCOztBQUdBLE9BQUEsQ0FBUSxHQUFSLEVBQWEsSUFBSSxDQUFDLFVBQWxCLEVBQThCLFFBQUEsQ0FBRSxRQUFGLENBQUE7QUFDOUIsTUFBQSxNQUFBLEVBQUE7RUFBRSxLQUFBLGlCQUFBO0lBQ0UsTUFBQSxHQUFTO0VBRFg7U0FFQTtBQUg0QixDQUE5Qjs7QUFLQSxJQUFBLEdBQU8sUUFBQSxDQUFFLEVBQUYsQ0FBQTtTQUNMLFFBQUEsQ0FBQSxHQUFFLElBQUYsQ0FBQTtBQUNGLFFBQUE7SUFBSSxLQUFBLEdBQVEsR0FBQSxDQUFJLEtBQUEsQ0FBTSxFQUFOLEVBQVUsR0FBQSxJQUFWLENBQUo7SUFDUixJQUFHLG1CQUFIO01BQ0UsTUFBTSxLQUFLLENBQUMsTUFEZDs7V0FFQSxLQUFLLENBQUM7RUFKUjtBQURLOztBQU9QLE9BQUEsQ0FBQTs7QUFDQSxPQUFBLENBQUE7O0FBQ0EsT0FBQSxDQUFBOztBQUNBLE9BQUEsQ0FBQTs7QUFDQSxPQUFBO0VBQ0UsSUFERjtFQUVFLEtBRkY7RUFHRSxHQUhGO0VBSUUsSUFKRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdlbmVyaWMgfSBmcm9tIFwiQGRhc2hraXRlL2pveS9nZW5lcmljXCJcbmltcG9ydCAqIGFzIEZuIGZyb20gXCJAZGFzaGtpdGUvam95L2Z1bmN0aW9uXCJcbmltcG9ydCAqIGFzIFR5cGUgZnJvbSBcIkBkYXNoa2l0ZS9qb3kvdHlwZVwiXG5pbXBvcnQgeyBNYWNoaW5lIH0gZnJvbSBcIi4vbWFjaGluZVwiXG5pbXBvcnQgeyBUYWxvcyB9IGZyb20gXCIuL3RhbG9zXCJcbmltcG9ydCB7IGlzTWFjaGluZSwgaXNHZW5lcmF0b3JGdW5jdGlvbiB9IGZyb20gXCIuL3R5cGVzXCJcblxuXG5TdGVwID1cbiAgbWF0Y2hWZXJ0ZXg6ICggdGFsb3MgKSAtPlxuICAgIHZlcnRleCA9IHRhbG9zLm1hY2hpbmUuZ3JhcGhbIHRhbG9zLnN0YXRlIF1cbiAgICBpZiAhdmVydGV4P1xuICAgICAgdGFsb3MuY2F0Y2ggbmV3IEVycm9yIFwidGFsb3Mgc3RhdGUgaXMgbm90IGluIG1hY2hpbmUgZ3JhcGhcIlxuICAgIHZlcnRleFxuXG4gIG1hdGNoRWRnZTogKCB2ZXJ0ZXgsIHRhbG9zLCBldmVudCApIC0+XG4gICAgZm9yIGVkZ2UgaW4gdmVydGV4LmVkZ2VzXG4gICAgICB0cnlcbiAgICAgICAgaWYgKCBlZGdlLndoZW4gdGFsb3MsIGV2ZW50ICkgPT0gdHJ1ZVxuICAgICAgICAgIHJldHVybiBlZGdlXG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICByZXR1cm4gdGFsb3MuY2F0Y2ggZXJyb3JcbiAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJubyBtYXRjaGluZyB3aGVuIGNvbmRpdGlvblwiXG5cbiAgcnVuOiAoIGVkZ2UsIHRhbG9zLCBldmVudCApIC0+XG4gICAgdHJ5XG4gICAgICBpZiBpc0dlbmVyYXRvckZ1bmN0aW9uIGVkZ2UucnVuXG4gICAgICAgIGZvciBpbm5lciBmcm9tIGVkZ2UucnVuIHRhbG9zLCBldmVudFxuICAgICAgICAgIHlpZWxkIGlubmVyXG4gICAgICAgIHJldHVybiAgIyBwcmV2ZW50IGFjY3VtdWxhdGlvblxuICAgICAgZWxzZSBpZiBUeXBlLmlzRnVuY3Rpb24gZWRnZS5ydW5cbiAgICAgICAgZWRnZS5ydW4gdGFsb3MsIGV2ZW50XG4gICAgY2F0Y2ggZXJyb3JcbiAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG4gICAgICB5aWVsZCB0YWxvc1xuXG4gIG1vdmU6ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB0cnlcbiAgICAgIGVkZ2UubW92ZSB0YWxvcywgZXZlbnRcbiAgICBjYXRjaCBlcnJvclxuICAgICAgdGFsb3MuY2F0Y2ggZXJyb3JcblxuICB0aWNrOiAoIHRhbG9zLCBldmVudCApIC0+XG4gICAgdmVydGV4ID0gU3RlcC5tYXRjaFZlcnRleCB0YWxvc1xuICAgIHlpZWxkIHRhbG9zIGlmIHRhbG9zLmVuZGVkXG4gICAgZWRnZSA9IFN0ZXAubWF0Y2hFZGdlIHZlcnRleCwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3MgaWYgdGFsb3MuZW5kZWRcbiAgICBmb3IgaW5uZXIgZnJvbSBTdGVwLnJ1biBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICAgIHlpZWxkIGlubmVyXG4gICAgeWllbGQgdGFsb3MgaWYgdGFsb3MuZW5kZWRcbiAgICBTdGVwLm1vdmUgZWRnZSwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3MgICAjIHRoaXMgaXMgdGhlIGhhcHB5LXBhdGggeWllbGRcblxuXG5zdGFydCA9IGdlbmVyaWMgbmFtZTogXCJ0YWxvczogc3luYyBzdGFydFwiXG5cbmdlbmVyaWMgc3RhcnQsIGlzTWFjaGluZSwgKCBtYWNoaW5lICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3NcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgaXRzIG93biBjb250ZXh0IHJlcGVhdGVkbHkuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsICggdGFsb3MgKSAtPlxuICBsb29wXG4gICAgZm9yIGN1cnJlbnQgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIHRhbG9zLmNvbnRleHRcbiAgICAgIHlpZWxkIGN1cnJlbnRcbiAgICAgIHJldHVybiBpZiB0YWxvcy5lbmRlZFxuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNJdGVyYWJsZSwgKCBtYWNoaW5lLCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbiMgQ3JlYXRlIGdlbmVyYXRvciB3aGVyZSBzdGF0ZSBtYWNoaW5lIGNvbnN1bWVzIHZhbHVlcyBmcm9tIGl0ZXJhdG9yLlxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzSXRlcmFibGUsICggdGFsb3MsIGV2ZW50cyApIC0+XG4gIGZvciBldmVudCBmcm9tIGV2ZW50c1xuICAgIGZvciBjdXJyZW50IGZyb20gU3RlcC50aWNrIHRhbG9zLCBldmVudFxuICAgICAgeWllbGQgY3VycmVudFxuICAgICAgcmV0dXJuIGlmIHRhbG9zLmVuZGVkXG5cbmdlbmVyaWMgc3RhcnQsIGlzTWFjaGluZSwgVHlwZS5pc09iamVjdCwgKCBtYWNoaW5lLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCAoIHRhbG9zLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCBUeXBlLmlzT2JqZWN0LCBUeXBlLmlzSXRlcmFibGUsICggbWFjaGluZSwgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIFR5cGUuaXNPYmplY3QsIFR5cGUuaXNJdGVyYWJsZSwgKCB0YWxvcywgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5cbiMgQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8ga2VlcCBnb2luZyBhbmQgb25seSByZXR1cm4gdGhlIGZpbmFsIHRhbG9zLlxucnVuID0gZ2VuZXJpYyBuYW1lOiBcInRhbG9zOiBzeW5jIHJ1blwiXG5cbiMgRnVydGhlciBjb252ZW5pZW5jZSB0byBzdXBwb3J0IGF1dG9tYXRpY2FsbHkgdXNpbmcgc3RhcnQuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FueSwgKCBhcmdzLi4uICkgLT5cbiAgcnVuIHN0YXJ0IGFyZ3MuLi5cblxuZ2VuZXJpYyBydW4sIFR5cGUuaXNJdGVyYXRvciwgKCBpdGVyYXRvciApIC0+XG4gIGZvciB0YWxvcyBmcm9tIGl0ZXJhdG9yXG4gICAgcmVzdWx0ID0gdGFsb3NcbiAgcmVzdWx0XG5cbnBpcGUgPSAoIGZ4ICkgLT5cbiAgKCBhcmdzLi4uICkgLT5cbiAgICB0YWxvcyA9IHJ1biBzdGFydCBmeCwgYXJncy4uLlxuICAgIGlmIHRhbG9zLmVycm9yP1xuICAgICAgdGhyb3cgdGFsb3MuZXJyb3JcbiAgICB0YWxvcy5jb250ZXh0XG5cbmV4cG9ydCAqIGZyb20gXCIuL3N0YXRlc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9tYWNoaW5lXCJcbmV4cG9ydCAqIGZyb20gXCIuL3RhbG9zXCJcbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzXCJcbmV4cG9ydCB7XG4gIFN0ZXAgIFxuICBzdGFydFxuICBydW5cbiAgcGlwZVxufSJdfQ==
 //# sourceURL=/@dashkite/talos/src/sync.coffee

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9AZGFzaGtpdGUvdGFsb3Mvc3JjL3N5bmMuY29mZmVlIiwiPGFub24+Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdlbmVyaWMgfSBmcm9tIFwiQGRhc2hraXRlL2pveS9nZW5lcmljXCJcbmltcG9ydCAqIGFzIEZuIGZyb20gXCJAZGFzaGtpdGUvam95L2Z1bmN0aW9uXCJcbmltcG9ydCAqIGFzIFR5cGUgZnJvbSBcIkBkYXNoa2l0ZS9qb3kvdHlwZVwiXG5pbXBvcnQgeyBNYWNoaW5lIH0gZnJvbSBcIi4vbWFjaGluZVwiXG5pbXBvcnQgeyBUYWxvcyB9IGZyb20gXCIuL3RhbG9zXCJcbmltcG9ydCB7IGlzTWFjaGluZSwgaXNHZW5lcmF0b3JGdW5jdGlvbiB9IGZyb20gXCIuL3R5cGVzXCJcblxuXG5TdGVwID1cbiAgbWF0Y2hWZXJ0ZXg6ICggdGFsb3MgKSAtPlxuICAgIHZlcnRleCA9IHRhbG9zLm1hY2hpbmUuZ3JhcGhbIHRhbG9zLnN0YXRlIF1cbiAgICBpZiAhdmVydGV4P1xuICAgICAgdGFsb3MuY2F0Y2ggbmV3IEVycm9yIFwidGFsb3Mgc3RhdGUgaXMgbm90IGluIG1hY2hpbmUgZ3JhcGhcIlxuICAgIHZlcnRleFxuXG4gIG1hdGNoRWRnZTogKCB2ZXJ0ZXgsIHRhbG9zLCBldmVudCApIC0+XG4gICAgZm9yIGVkZ2UgaW4gdmVydGV4LmVkZ2VzXG4gICAgICB0cnlcbiAgICAgICAgaWYgKCBlZGdlLndoZW4gdGFsb3MsIGV2ZW50ICkgPT0gdHJ1ZVxuICAgICAgICAgIHJldHVybiBlZGdlXG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICByZXR1cm4gdGFsb3MuY2F0Y2ggZXJyb3JcbiAgICB0YWxvcy5jYXRjaCBuZXcgRXJyb3IgXCJubyBtYXRjaGluZyB3aGVuIGNvbmRpdGlvblwiXG5cbiAgcnVuOiAoIGVkZ2UsIHRhbG9zLCBldmVudCApIC0+XG4gICAgdHJ5XG4gICAgICBpZiBpc0dlbmVyYXRvckZ1bmN0aW9uIGVkZ2UucnVuXG4gICAgICAgIGZvciBpbm5lciBmcm9tIGVkZ2UucnVuIHRhbG9zLCBldmVudFxuICAgICAgICAgIHlpZWxkIGlubmVyXG4gICAgICAgIHJldHVybiAgIyBwcmV2ZW50IGFjY3VtdWxhdGlvblxuICAgICAgZWxzZSBpZiBUeXBlLmlzRnVuY3Rpb24gZWRnZS5ydW5cbiAgICAgICAgZWRnZS5ydW4gdGFsb3MsIGV2ZW50XG4gICAgY2F0Y2ggZXJyb3JcbiAgICAgIHRhbG9zLmNhdGNoIGVycm9yXG4gICAgICB5aWVsZCB0YWxvc1xuXG4gIG1vdmU6ICggZWRnZSwgdGFsb3MsIGV2ZW50ICkgLT5cbiAgICB0cnlcbiAgICAgIGVkZ2UubW92ZSB0YWxvcywgZXZlbnRcbiAgICBjYXRjaCBlcnJvclxuICAgICAgdGFsb3MuY2F0Y2ggZXJyb3JcblxuICB0aWNrOiAoIHRhbG9zLCBldmVudCApIC0+XG4gICAgdmVydGV4ID0gU3RlcC5tYXRjaFZlcnRleCB0YWxvc1xuICAgIHlpZWxkIHRhbG9zIGlmIHRhbG9zLmVuZGVkXG4gICAgZWRnZSA9IFN0ZXAubWF0Y2hFZGdlIHZlcnRleCwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3MgaWYgdGFsb3MuZW5kZWRcbiAgICBmb3IgaW5uZXIgZnJvbSBTdGVwLnJ1biBlZGdlLCB0YWxvcywgZXZlbnRcbiAgICAgIHlpZWxkIGlubmVyXG4gICAgeWllbGQgdGFsb3MgaWYgdGFsb3MuZW5kZWRcbiAgICBTdGVwLm1vdmUgZWRnZSwgdGFsb3MsIGV2ZW50XG4gICAgeWllbGQgdGFsb3MgICAjIHRoaXMgaXMgdGhlIGhhcHB5LXBhdGggeWllbGRcblxuXG5zdGFydCA9IGdlbmVyaWMgbmFtZTogXCJ0YWxvczogc3luYyBzdGFydFwiXG5cbmdlbmVyaWMgc3RhcnQsIGlzTWFjaGluZSwgKCBtYWNoaW5lICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgc3RhcnQgdGFsb3NcblxuIyBDcmVhdGUgZ2VuZXJhdG9yIHdoZXJlIHN0YXRlIG1hY2hpbmUgY29uc3VtZXMgaXRzIG93biBjb250ZXh0IHJlcGVhdGVkbHkuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsICggdGFsb3MgKSAtPlxuICBsb29wXG4gICAgZm9yIGN1cnJlbnQgZnJvbSBTdGVwLnRpY2sgdGFsb3MsIHRhbG9zLmNvbnRleHRcbiAgICAgIHlpZWxkIGN1cnJlbnRcbiAgICAgIHJldHVybiBpZiB0YWxvcy5lbmRlZFxuXG5nZW5lcmljIHN0YXJ0LCBpc01hY2hpbmUsIFR5cGUuaXNJdGVyYWJsZSwgKCBtYWNoaW5lLCBldmVudHMgKSAtPlxuICB0YWxvcyA9IFRhbG9zLm1ha2UgbWFjaGluZVxuICBzdGFydCB0YWxvcywgZXZlbnRzXG5cbiMgQ3JlYXRlIGdlbmVyYXRvciB3aGVyZSBzdGF0ZSBtYWNoaW5lIGNvbnN1bWVzIHZhbHVlcyBmcm9tIGl0ZXJhdG9yLlxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzSXRlcmFibGUsICggdGFsb3MsIGV2ZW50cyApIC0+XG4gIGZvciBldmVudCBmcm9tIGV2ZW50c1xuICAgIGZvciBjdXJyZW50IGZyb20gU3RlcC50aWNrIHRhbG9zLCBldmVudFxuICAgICAgeWllbGQgY3VycmVudFxuICAgICAgcmV0dXJuIGlmIHRhbG9zLmVuZGVkXG5cbmdlbmVyaWMgc3RhcnQsIGlzTWFjaGluZSwgVHlwZS5pc09iamVjdCwgKCBtYWNoaW5lLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgVGFsb3MuaXNUeXBlLCBUeXBlLmlzT2JqZWN0LCAoIHRhbG9zLCBjb250ZXh0ICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3NcblxuZ2VuZXJpYyBzdGFydCwgaXNNYWNoaW5lLCBUeXBlLmlzT2JqZWN0LCBUeXBlLmlzSXRlcmFibGUsICggbWFjaGluZSwgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MgPSBUYWxvcy5tYWtlIG1hY2hpbmVcbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5nZW5lcmljIHN0YXJ0LCBUYWxvcy5pc1R5cGUsIFR5cGUuaXNPYmplY3QsIFR5cGUuaXNJdGVyYWJsZSwgKCB0YWxvcywgY29udGV4dCwgZXZlbnRzICkgLT5cbiAgdGFsb3MuY29udGV4dCA9IGNvbnRleHRcbiAgc3RhcnQgdGFsb3MsIGV2ZW50c1xuXG5cbiMgQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8ga2VlcCBnb2luZyBhbmQgb25seSByZXR1cm4gdGhlIGZpbmFsIHRhbG9zLlxucnVuID0gZ2VuZXJpYyBuYW1lOiBcInRhbG9zOiBzeW5jIHJ1blwiXG5cbiMgRnVydGhlciBjb252ZW5pZW5jZSB0byBzdXBwb3J0IGF1dG9tYXRpY2FsbHkgdXNpbmcgc3RhcnQuXG5nZW5lcmljIHJ1biwgVHlwZS5pc0FueSwgKCBhcmdzLi4uICkgLT5cbiAgcnVuIHN0YXJ0IGFyZ3MuLi5cblxuZ2VuZXJpYyBydW4sIFR5cGUuaXNJdGVyYXRvciwgKCBpdGVyYXRvciApIC0+XG4gIGZvciB0YWxvcyBmcm9tIGl0ZXJhdG9yXG4gICAgcmVzdWx0ID0gdGFsb3NcbiAgcmVzdWx0XG5cbnBpcGUgPSAoIGZ4ICkgLT5cbiAgKCBhcmdzLi4uICkgLT5cbiAgICB0YWxvcyA9IHJ1biBzdGFydCBmeCwgYXJncy4uLlxuICAgIGlmIHRhbG9zLmVycm9yP1xuICAgICAgdGhyb3cgdGFsb3MuZXJyb3JcbiAgICB0YWxvcy5jb250ZXh0XG5cbmV4cG9ydCAqIGZyb20gXCIuL3N0YXRlc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9tYWNoaW5lXCJcbmV4cG9ydCAqIGZyb20gXCIuL3RhbG9zXCJcbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzXCJcbmV4cG9ydCB7XG4gIFN0ZXAgIFxuICBzdGFydFxuICBydW5cbiAgcGlwZVxufSIsbnVsbF0sIm5hbWVzIjpbIlN0ZXAiLCJzdGFydCIsInJ1biIsInBpcGUiLCJtYXRjaFZlcnRleCIsInRhbG9zIiwidmVydGV4IiwibWFjaGluZSIsImdyYXBoIiwic3RhdGUiLCJjYXRjaCIsIkVycm9yIiwibWF0Y2hFZGdlIiwiZXZlbnQiLCJlZGdlIiwiZXJyb3IiLCJpIiwibGVuIiwicmVmIiwiZWRnZXMiLCJsZW5ndGgiLCJ3aGVuIiwiZXJyb3IxIiwiaW5uZXIiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiVHlwZSIsImlzRnVuY3Rpb24iLCJtb3ZlIiwidGljayIsImVuZGVkIiwiZ2VuZXJpYyIsIm5hbWUiLCJpc01hY2hpbmUiLCJUYWxvcyIsIm1ha2UiLCJpc1R5cGUiLCJjdXJyZW50IiwiY29udGV4dCIsImlzSXRlcmFibGUiLCJldmVudHMiLCJpc09iamVjdCIsImlzQW55IiwiYXJncyIsImlzSXRlcmF0b3IiLCJpdGVyYXRvciIsInJlc3VsdCIsImZ4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXlIRUEsSUFERjtlQUNFQTs7SUFDQUMsS0FGRjtlQUVFQTs7SUFDQUMsR0FIRjtlQUdFQTs7SUFDQUMsSUFKRjtlQUlFQTs7O3lCQTVIRjtrRUFDQTs4REFDQTtzQ0FDQTtvQ0FDQTtvQ0FDQTtxQkErR0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcEhBLElBQUFILE1BQUFHLE1BQUFELEtBQUFEO0FBUUFELE9BQ0U7SUFBQUksYUFBYSxTQUFFQyxLQUFGO1FBQ2YsSUFBQUM7UUFBSUEsU0FBU0QsTUFBTUUsT0FBTyxDQUFDQyxLQUFLLENBQUVILE1BQU1JLEtBQVIsQ0FBQTtRQUM1QixJQUFJSCxVQUFBLE1BQUo7WUFDRUQsTUFBTUssS0FBTixDQUFZLElBQUlDLE1BQU07O2VBQ3hCTDtJQUpXO0lBTWJNLFdBQVcsU0FBRU4sTUFBRixFQUFVRCxLQUFWLEVBQWlCUSxLQUFqQjtRQUNiLElBQUFDLE1BQUFDLE9BQUFDLEdBQUFDLEtBQUFDO1FB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